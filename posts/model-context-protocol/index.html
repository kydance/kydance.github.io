<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en">
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <meta name="robots" content="noodp" />
    <title>Model Context Protocol (MCP): 扩展 AI 能力的新范式  Kyden&#39;s 博客</title><meta name="author" content="kyden">
<meta name="description" content="深入探索 Anthropic 提出的 Model Context Protocol (MCP)，了解其如何连接 AI 模型与各类专业工具、知识库和计算资源，实现 AI 能力的弹性扩展。"><meta name="keywords" content='MCP, Model Context Protocol, Anthropic, AI 扩展, JSON-RPC, LLM'>
  <meta itemprop="name" content="Model Context Protocol (MCP): 扩展 AI 能力的新范式">
  <meta itemprop="description" content="深入探索 Anthropic 提出的 Model Context Protocol (MCP)，了解其如何连接 AI 模型与各类专业工具、知识库和计算资源，实现 AI 能力的弹性扩展。">
  <meta itemprop="datePublished" content="2025-04-29T15:16:47+08:00">
  <meta itemprop="dateModified" content="2025-04-29T15:16:47+08:00">
  <meta itemprop="wordCount" content="8817">
  <meta itemprop="image" content="http://kydance.github.io/favicon.png">
  <meta itemprop="keywords" content="MCP,Model Context Protocol,Anthropic,AI 扩展,JSON-RPC,LLM"><meta property="og:url" content="http://kydance.github.io/posts/model-context-protocol/">
  <meta property="og:site_name" content="Kyden&#39;s 博客">
  <meta property="og:title" content="Model Context Protocol (MCP): 扩展 AI 能力的新范式">
  <meta property="og:description" content="深入探索 Anthropic 提出的 Model Context Protocol (MCP)，了解其如何连接 AI 模型与各类专业工具、知识库和计算资源，实现 AI 能力的弹性扩展。">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-04-29T15:16:47+08:00">
    <meta property="article:modified_time" content="2025-04-29T15:16:47+08:00">
    <meta property="article:tag" content="AI">
    <meta property="article:tag" content="MCP">
    <meta property="article:tag" content="协议">
    <meta property="article:tag" content="开发工具">
    <meta property="og:image" content="http://kydance.github.io/favicon.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://kydance.github.io/favicon.png">
  <meta name="twitter:title" content="Model Context Protocol (MCP): 扩展 AI 能力的新范式">
  <meta name="twitter:description" content="深入探索 Anthropic 提出的 Model Context Protocol (MCP)，了解其如何连接 AI 模型与各类专业工具、知识库和计算资源，实现 AI 能力的弹性扩展。">
      <meta name="twitter:site" content="@kytedance">
<meta name="twitter:creator" content="@kytedance" /><meta name="application-name" content="kyden">
<meta name="apple-mobile-web-app-title" content="kyden"><meta name="theme-color" data-light="#f8f8f8" data-dark="#1e2024" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" type="text/html" href="http://kydance.github.io/posts/model-context-protocol/" title="Model Context Protocol (MCP): 扩展 AI 能力的新范式  Kyden&#39;s 博客" /><link rel="prev" type="text/html" href="http://kydance.github.io/posts/033530b/" title="使用 FFmpeg 转换哔哩哔哩缓存视频为 MP4 格式" /><link rel="alternate" type="text/markdown" href="http://kydance.github.io/posts/model-context-protocol/index.md" title="Model Context Protocol (MCP): 扩展 AI 能力的新范式  Kyden's 博客"><link rel="stylesheet" href="/css/style.min.f8097809a76aadc015234d6707b99425ff777dc7f319775cca38e5eaf2080b38.css" integrity="sha256-+Al4CadqrcAVI01nB7mUJf93fcfzGXdcyjjl6vIICzg="><link rel="preload" href="/lib/fontawesome-free/all.min.320d572dfb844e7152480b7b62374236c4896ccca3ac9d69bb03f3bc2034acb8.css" integrity="sha256-Mg1XLfuETnFSSAt7YjdCNsSJbMyjrJ1puwPzvCA0rLg=" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.320d572dfb844e7152480b7b62374236c4896ccca3ac9d69bb03f3bc2034acb8.css" integrity="sha256-Mg1XLfuETnFSSAt7YjdCNsSJbMyjrJ1puwPzvCA0rLg="></noscript><link rel="preload" href="/lib/animate/animate.min.5fbaeb9f8e25d7e0143bae61d4b1802c16ce7390b96ceb2d498b0d96ff4c853f.css" integrity="sha256-X7rrn44l1+AUO65h1LGALBbOc5C5bOstSYsNlv9MhT8=" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/animate/animate.min.5fbaeb9f8e25d7e0143bae61d4b1802c16ce7390b96ceb2d498b0d96ff4c853f.css" integrity="sha256-X7rrn44l1+AUO65h1LGALBbOc5C5bOstSYsNlv9MhT8="></noscript><script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Model Context Protocol (MCP): 扩展 AI 能力的新范式",
    "inLanguage": "en",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "http:\/\/kydance.github.io\/posts\/model-context-protocol\/"
    },"image": ["http:\/\/kydance.github.io\/favicon-seo.jpg"],"genre": "posts","keywords": "AI, MCP, 协议, 开发工具","wordcount":  8817 ,
    "url": "http:\/\/kydance.github.io\/posts\/model-context-protocol\/","datePublished": "2025-04-29T15:16:47+08:00","dateModified": "2025-04-29T15:16:47+08:00","publisher": {
      "@type": "Organization",
      "name": "kyden","logo": "http:\/\/kydance.github.io"},"author": {
        "@type": "Person",
        "name": "kyden"
      },"description": "深入探索 Anthropic 提出的 Model Context Protocol (MCP)，了解其如何连接 AI 模型与各类专业工具、知识库和计算资源，实现 AI 能力的弹性扩展。"
  }
  </script><script src="/js/head/color-scheme.min.15fc6d693c4ea1331dfdbe98e8c76402340195b0a3b4047378cec39b7c827bfa.js" integrity="sha256-FfxtaTxOoTMd/b6Y6MdkAjQBlbCjtARzeM7Dm3yCe/o="></script></head>
  <body data-header-desktop="auto" data-header-mobile="auto"><div class="wrapper" data-page-style="wide"><header class="desktop animate__faster" id="header-desktop">
  <div class="header-wrapper" data-github-corner="right">
    <div class="header-title">
      <a href="/" title="Kyden&#39;s 博客"><img class="logo" src='/favicon.ico' alt="Kyden&#39;s 博客" height="32" width="32"><span class="header-title-text">KYDEN</span></a><span class="header-subtitle">博客</span></div>
    <nav>
      <ul class="menu"><li class="menu-item">
              <a class="menu-link" href="/archives/"><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden="true"></i> Archives</a></li><li class="menu-item">
              <a class="menu-link" href="/categories/"><i class="fa-solid fa-folder-tree fa-fw fa-sm" aria-hidden="true"></i> Categories</a></li><li class="menu-item">
              <a class="menu-link" href="/tags/"><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden="true"></i> Tags</a></li><li class="menu-item">
              <a class="menu-link" href="/about/"><i class="fa-solid fa-blog fa-fw fa-sm" aria-hidden="true"></i> About</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id="search-desktop">
            <input type="text" placeholder="Type to search..." id="search-input-desktop">
            <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
              <i class="fa-solid fa-search fa-fw" aria-hidden="true"></i>
            </a>
            <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
              <i class="fa-solid fa-times-circle fa-fw" aria-hidden="true"></i>
            </a>
            <span class="search-button search-loading" id="search-loading-desktop">
              <i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
            </span>
          </li><li class="menu-item theme-switch" title="Switch Theme">
          <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
        </li></ul>
    </nav>
  </div>
</header><header class="mobile animate__faster" id="header-mobile">
  <div class="header-container">
    <div class="header-wrapper">
      <div class="header-title">
        <a href="/" title="Kyden&#39;s 博客"><img class="logo" src='/favicon.ico' alt="Kyden&#39;s 博客" height="26" width="26"><span class="header-title-text">KYDEN</span></a><span class="header-subtitle">博客</span></div>
      <div class="menu-toggle" id="menu-toggle-mobile">
        <span></span><span></span><span></span>
      </div>
    </div>
    <nav>
      <ul class="menu" id="menu-mobile"><li class="search-wrapper">
            <div class="search mobile" id="search-mobile">
              <input type="text" placeholder="Type to search..." id="search-input-mobile">
              <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                <i class="fa-solid fa-search fa-fw" aria-hidden="true"></i>
              </a>
              <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                <i class="fa-solid fa-times-circle fa-fw" aria-hidden="true"></i>
              </a>
              <span class="search-button search-loading" id="search-loading-mobile">
                <i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
              </span>
            </div>
            <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
              Cancel
            </a>
          </li><li class="menu-item"><a class="menu-link" href="/archives/"><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden="true"></i> Archives</a></li><li class="menu-item"><a class="menu-link" href="/categories/"><i class="fa-solid fa-folder-tree fa-fw fa-sm" aria-hidden="true"></i> Categories</a></li><li class="menu-item"><a class="menu-link" href="/tags/"><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden="true"></i> Tags</a></li><li class="menu-item"><a class="menu-link" href="/about/"><i class="fa-solid fa-blog fa-fw fa-sm" aria-hidden="true"></i> About</a></li><li class="menu-item menu-system">
          <span class="menu-system-item theme-switch" title="Switch Theme"><i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i></span></li>
      </ul>
    </nav>
  </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
  </div>
  <div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
  </div><nav aria-label="breadcrumb" class="breadcrumb-container">
    <ol class="breadcrumb"><li class="breadcrumb-item" data-separator="/"><a href="/posts/" title="Posts">Posts</a></li><li class="breadcrumb-item active" data-separator="/" aria-current="page">Model Context Protocol (MCP): 扩展 AI 能力的新范式</li>
    </ol>
  </nav><main class="container container-reverse"><aside class="aside-collection animate__animated animate__fadeIn animate__faster" aria-label="Collections"></aside>

  <article class="page single">
    <div class="header"><h1 class="single-title animate__animated animate__flipInX"><span title="Repost" class="icon-repost"><i class="fa-solid fa-share fa-fw" aria-hidden="true"></i></span><span>Model Context Protocol (MCP): 扩展 AI 能力的新范式</span>
      </h1><p class="single-subtitle animate__animated animate__fadeIn">打破 AI 模型的封闭性，实现能力的弹性扩展</p></div><div class="post-meta">
      <div class="post-meta-line"><span class="post-author"><a href="https://github.com/kydance" title="Author"target="_blank" rel="external nofollow noopener noreferrer author" class="author"><img class="avatar" src='/favicon.ico' alt="kyden" height="16" width="16">&nbsp;kyden</a></span><span class="post-included-in">&nbsp;included in <a href="/categories/%E6%8A%80%E6%9C%AF%E5%89%8D%E6%B2%BF/" class="post-category" title="Category - 技术前沿"><i class="fa-regular fa-folder fa-fw" aria-hidden="true"></i> 技术前沿</a></span></div><div class="post-meta-line"><span title="published on 2025-04-29 15:16:47"><i class="fa-solid fa-calendar-days fa-fw me-1" aria-hidden="true"></i><time datetime="2025-04-29">2025-04-29</time></span>&nbsp;<span title="8817 words"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden="true"></i>About 8900 words</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden="true"></i>18 minutes</span>&nbsp;<span id="busuanzi_container_page_pv" class="busuanzi_visitors comment-visitors" data-flag-title="Model Context Protocol (MCP): 扩展 AI 能力的新范式"><i class="fa-regular fa-eye fa-fw me-1" aria-hidden="true"></i><span id="busuanzi_value_page_pv">-</span>&nbsp;views
          </span>&nbsp;</div>
    </div><div class="details toc" id="toc-static" data-kept="false">
        <div class="details-summary toc-title">
          <span>Contents</span>
          <span><i class="details-icon fa-solid fa-angle-right" aria-hidden="true"></i></span>
        </div>
        <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ol>
    <li><a href="#模型上下文协议-mcp">模型上下文协议 MCP</a>
      <ol>
        <li><a href="#为什么-mcp-如此重要">为什么 MCP 如此重要？</a></li>
        <li><a href="#关键概念">关键概念</a></li>
        <li><a href="#json-rpc-通信协议">JSON-RPC 通信协议</a>
          <ol>
            <li><a href="#为什么选择-json-rpc">为什么选择 JSON-RPC？</a></li>
            <li><a href="#json-rpc-与-grpc-的主要区别">JSON-RPC 与 gRPC 的主要区别</a></li>
            <li><a href="#json-rpc-的请求与响应格式">JSON-RPC 的请求与响应格式</a>
              <ol>
                <li><a href="#请求request格式">请求（Request）格式</a></li>
                <li><a href="#响应response格式">响应（Response）格式</a></li>
              </ol>
            </li>
            <li><a href="#批量请求处理">批量请求处理</a></li>
          </ol>
        </li>
        <li><a href="#tools-功能">Tools 功能</a>
          <ol>
            <li><a href="#工具的特点">工具的特点</a></li>
            <li><a href="#工具的定义格式">工具的定义格式</a></li>
            <li><a href="#工具调用流程">工具调用流程</a></li>
            <li><a href="#工具的应用场景">工具的应用场景</a></li>
          </ol>
        </li>
        <li><a href="#资源能力-resource-capability">资源能力 (Resource Capability)</a>
          <ol>
            <li><a href="#资源的核心特点">资源的核心特点</a></li>
            <li><a href="#常见的资源类型">常见的资源类型</a></li>
            <li><a href="#资源与工具的区别">资源与工具的区别</a></li>
            <li><a href="#资源的访问方法">资源的访问方法</a></li>
            <li><a href="#资源访问方法">资源访问方法</a></li>
            <li><a href="#资源的应用场景">资源的应用场景</a></li>
          </ol>
        </li>
        <li><a href="#提示能力-prompt-capability">提示能力 (Prompt Capability)</a>
          <ol>
            <li><a href="#提示的作用与价值">提示的作用与价值</a></li>
            <li><a href="#提示的元数据结构">提示的元数据结构</a></li>
            <li><a href="#提示的访问方法">提示的访问方法</a></li>
            <li><a href="#提示中的角色定义">提示中的角色定义</a></li>
            <li><a href="#提示的应用场景">提示的应用场景</a></li>
          </ol>
        </li>
        <li><a href="#mcp-传输层-transport">MCP 传输层 (Transport)</a>
          <ol>
            <li><a href="#传输层的作用">传输层的作用</a></li>
            <li><a href="#支持的传输方式">支持的传输方式</a>
              <ol>
                <li><a href="#1-stdio-标准输入输出">1. stdio 标准输入输出</a></li>
                <li><a href="#2-http-with-sse">2. HTTP with SSE</a></li>
                <li><a href="#3-streamable-http">3. Streamable HTTP</a></li>
              </ol>
            </li>
            <li><a href="#选择合适的传输方式">选择合适的传输方式</a></li>
          </ol>
        </li>
        <li><a href="#mcp-生命周期-life-cycle">MCP 生命周期 (Life Cycle)</a>
          <ol>
            <li><a href="#生命周期的三个阶段">生命周期的三个阶段</a>
              <ol>
                <li><a href="#1-初始化阶段-initialize">1. 初始化阶段 (Initialize)</a></li>
                <li><a href="#2-操作阶段-operation">2. 操作阶段 (Operation)</a></li>
                <li><a href="#3-关闭阶段-shutdown">3. 关闭阶段 (Shutdown)</a></li>
              </ol>
            </li>
            <li><a href="#生命周期的重要性">生命周期的重要性</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#server-inspector-调试工具">Server Inspector 调试工具</a>
      <ol>
        <li><a href="#为什么需要-server-inspector">为什么需要 Server Inspector</a></li>
        <li><a href="#安装与使用">安装与使用</a></li>
        <li><a href="#架构与组件">架构与组件</a></li>
        <li><a href="#使用场景">使用场景</a></li>
        <li><a href="#高级功能">高级功能</a></li>
        <li><a href="#与其他工具的集成">与其他工具的集成</a></li>
      </ol>
    </li>
    <li><a href="#mcp-server-中的-hello-world-示例">MCP Server 中的 &ldquo;Hello World&rdquo; 示例</a>
      <ol>
        <li><a href="#实现目标">实现目标</a></li>
        <li><a href="#代码实现">代码实现</a></li>
        <li><a href="#代码解析">代码解析</a></li>
        <li><a href="#运行与测试">运行与测试</a>
          <ol>
            <li><a href="#1-启动服务器">1. 启动服务器</a></li>
            <li><a href="#2-获取会话-id">2. 获取会话 ID</a></li>
            <li><a href="#3-初始化连接">3. 初始化连接</a></li>
            <li><a href="#4-获取可用工具">4. 获取可用工具</a></li>
            <li><a href="#5-调用工具">5. 调用工具</a></li>
          </ol>
        </li>
        <li><a href="#关键要点">关键要点</a></li>
        <li><a href="#与-vscode-cline-集成">与 VSCode Cline 集成</a>
          <ol>
            <li><a href="#配置方法">配置方法</a></li>
            <li><a href="#使用方法">使用方法</a></li>
            <li><a href="#应用场景">应用场景</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#总结与展望">总结与展望</a>
      <ol>
        <li><a href="#mcp-的价值">MCP 的价值</a></li>
        <li><a href="#未来展望">未来展望</a></li>
      </ol>
    </li>
    <li><a href="#参考资料">参考资料</a></li>
  </ol>
</nav></div>
      </div><div class="content" id="content"><div class="details admonition abstract open">
  <div class="details-summary admonition-title"><i class="icon fa-fw fa-solid fa-clipboard-list" aria-hidden="true"></i>导语<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden="true"></i></div>
  <div class="details-content">
    <div class="admonition-content"><p>在 AI 技术日新月异的今天，Anthropic 提出的 Model Context Protocol (MCP) 正引领着 AI 能力扩展的新浪潮。MCP 就像是为 AI 模型设计的多功能扩展坞，让大语言模型能够像连接了各种外设的超级工作站一样，实时接入专业能力模块，实现能力的弹性扩展。</p>
<p>MCP 通过标准化的协议，将 AI 模型与各类专业工具、知识库和计算资源无缝连接，打破了传统 AI 系统的封闭性。无论是文件内容、数据库记录、API 响应，还是实时系统数据，MCP 都能将其转化为 AI 可理解的上下文，显著提升 AI 在特定领域的表现。</p>
<p>本文将带您深入探索 MCP 的核心概念、工作原理及实际应用，并通过一个完整的 &ldquo;Hello World&rdquo; 示例，展示如何快速搭建和调试您的第一个 MCP 服务。无论您是 AI 开发者还是技术爱好者，MCP 都为您打开了一扇通往更智能、更强大 AI 应用的大门。</p>
</div>
  </div>
</div>
<h2 id="模型上下文协议-mcp" class="heading-element"><span>模型上下文协议 MCP</span>
  <a href="#%e6%a8%a1%e5%9e%8b%e4%b8%8a%e4%b8%8b%e6%96%87%e5%8d%8f%e8%ae%ae-mcp" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>MCP（Model Context Protocol，模型上下文协议），起源于2024年11月25日 <a href="https://www.anthropic.com/"target="_blank" rel="external nofollow noopener noreferrer">Anthropic<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a> 发布的文章：<a href="https://www.anthropic.com/news/model-context-protocol"target="_blank" rel="external nofollow noopener noreferrer">Introducing the Model Context Protocol<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a>。这一协议的推出标志着 AI 领域迈向了更加开放、可扩展的新时代。</p>
<p>MCP 在 AI 领域中的作用，就犹如扩展坞在笔记本电脑中的作用一样，为 AI 模型的能力扩展提供了新的可能性。例如，现代扩展坞可以连接显示器、键盘以及移动硬盘等多种硬件外设，使得笔记本电脑瞬间扩展了多种功能；而 MCP Server 将会作为一个智能中枢平台，可以动态接入各类专业能力模块（如知识库、计算工具、领域模型等）。</p>
<p>当 LLM 需要完成特定任务时，它就可以调用这些 MCP Server，实时获得精准的上下文支持，从而实现能力的弹性扩展。这种架构打破了传统 AI 模型的封闭性，让大语言模型像搭载了多功能扩展坞的超级工作站，随时都能获取最合适的专业工具。</p>
<h3 id="为什么-mcp-如此重要" class="heading-element"><span>为什么 MCP 如此重要？</span>
  <a href="#%e4%b8%ba%e4%bb%80%e4%b9%88-mcp-%e5%a6%82%e6%ad%a4%e9%87%8d%e8%a6%81" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>MCP 的出现解决了 AI 领域长期面临的几个关键挑战：</p>
<ol>
<li><strong>知识时效性问题</strong>：大语言模型的知识在训练后就固定了，而 MCP 允许模型实时获取最新信息</li>
<li><strong>专业能力限制</strong>：通过 MCP，AI 可以调用专门的工具和模型来处理特定领域任务</li>
<li><strong>计算资源优化</strong>：复杂计算可以交给专门的服务处理，而不必全部依赖 LLM 本身</li>
<li><strong>隐私与安全</strong>：敏感数据可以保留在本地或专用服务中，只提供必要的处理结果</li>
<li><strong>可扩展性</strong>：随着新工具和服务的开发，AI 的能力可以不断扩展，无需重新训练</li>
</ol>
<h3 id="关键概念" class="heading-element"><span>关键概念</span>
  <a href="#%e5%85%b3%e9%94%ae%e6%a6%82%e5%bf%b5" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>MCP 协议的核心由以下几个关键组件构成，它们共同定义了 AI 模型如何与外部系统交互：</p>
<ul>
<li>
<p><strong>MCP Server</strong>：实现特定功能的服务端，负责响应 AI 模型的请求。可以理解为一个专用的“能力代理”，为 AI 提供特定领域的服务。每个 MCP Server 都可以提供一组独特的能力，如代码分析、数据库查询、图像处理等。</p>
</li>
<li>
<p><strong>MCP Client</strong>：调用 MCP Server 的客户端，通常是集成了 LLM 的应用程序。Client 负责发现可用的 Server，协商能力，并在需要时调用相应的服务。</p>
</li>
<li>
<p><strong>Resources</strong>：资源，指 MCP Server 可以提供给 Client 的各类数据和信息。这些资源可以是文件内容、数据库记录、API 响应、实时系统数据等。每个资源都由唯一的 URI 标识，并且只能被读取，不能被修改。</p>
</li>
<li>
<p><strong>Tools</strong>：工具，是 MCP Server 提供的可执行操作。与 Resources 不同，Tools 可以修改状态或与外部系统交互。每个工具都有唯一的名称、描述和参数模式，使 AI 模型能够正确地调用它们。</p>
</li>
<li>
<p><strong>Prompts</strong>：提示模板，允许 MCP Server 定义特定的提示模式，指导 AI 模型如何处理特定类型的任务。</p>
</li>
<li>
<p><strong>Transport</strong>：传输层，定义了 Client 和 Server 之间的通信方式，如 stdio、HTTP+SSE 等。</p>
</li>
</ul>
<p>这些概念共同构成了 MCP 的基础架构，使 AI 模型能够以标准化的方式与各种外部服务和资源交互。</p>
<h3 id="json-rpc-通信协议" class="heading-element"><span>JSON-RPC 通信协议</span>
  <a href="#json-rpc-%e9%80%9a%e4%bf%a1%e5%8d%8f%e8%ae%ae" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>MCP 采用 JSON-RPC 2.0 作为其基础通信协议。JSON-RPC 是一种轻量级的远程过程调用协议，使用 JSON 作为数据格式，非常适合跨语言、跨平台的分布式系统通信。</p>
<h4 id="为什么选择-json-rpc" class="heading-element"><span>为什么选择 JSON-RPC？</span>
  <a href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e9%80%89%e6%8b%a9-json-rpc" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>MCP 选择 JSON-RPC 而非其他流行的 RPC 协议（如 gRPC）有以下几个关键原因：</p>
<ol>
<li><strong>灵活性与简易性</strong>：JSON-RPC 使用简单的 JSON 格式，更易于实现和调试</li>
<li><strong>广泛的语言支持</strong>：几乎所有编程语言都有完善的 JSON 处理库</li>
<li><strong>动态类型</strong>：适合 AI 系统的动态特性，可以在运行时发现和调用服务</li>
<li><strong>低门槛</strong>：不需要复杂的工具链和代码生成步骤</li>
</ol>
<h4 id="json-rpc-与-grpc-的主要区别" class="heading-element"><span>JSON-RPC 与 gRPC 的主要区别</span>
  <a href="#json-rpc-%e4%b8%8e-grpc-%e7%9a%84%e4%b8%bb%e8%a6%81%e5%8c%ba%e5%88%ab" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><table>
  <thead>
      <tr>
          <th>特性</th>
          <th>JSON-RPC</th>
          <th>gRPC</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>数据格式</td>
          <td>JSON（文本型，人类可读）</td>
          <td>Protocol Buffers（二进制，高效）</td>
      </tr>
      <tr>
          <td>类型系统</td>
          <td>动态弱类型</td>
          <td>静态强类型</td>
      </tr>
      <tr>
          <td>接口定义</td>
          <td>无需预先定义，可动态发现</td>
          <td>需要 .proto 文件预先定义</td>
      </tr>
      <tr>
          <td>代码生成</td>
          <td>无需生成客户端代码</td>
          <td>需要生成客户端和服务端代码</td>
      </tr>
      <tr>
          <td>传输协议</td>
          <td>不特定（通常是 HTTP）</td>
          <td>HTTP/2</td>
      </tr>
      <tr>
          <td>流式支持</td>
          <td>有限支持</td>
          <td>原生支持双向流</td>
      </tr>
      <tr>
          <td>性能</td>
          <td>中等</td>
          <td>高</td>
      </tr>
      <tr>
          <td>实现复杂度</td>
          <td>低</td>
          <td>中到高</td>
      </tr>
  </tbody>
</table>
<p>MCP 利用 JSON-RPC 的灵活性，并通过生命周期管理（lifecycle management）来动态发现服务能力，
这一点是 MCP 协议的扩展，而非 JSON-RPC 本身的功能。</p>
<h4 id="json-rpc-的请求与响应格式" class="heading-element"><span>JSON-RPC 的请求与响应格式</span>
  <a href="#json-rpc-%e7%9a%84%e8%af%b7%e6%b1%82%e4%b8%8e%e5%93%8d%e5%ba%94%e6%a0%bc%e5%bc%8f" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><h5 id="请求request格式" class="heading-element"><span>请求（Request）格式</span>
  <a href="#%e8%af%b7%e6%b1%82request%e6%a0%bc%e5%bc%8f" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h5><p>与传统 HTTP API 不同，JSON-RPC 不在 URL 中指定方法，而是将方法名称和参数都放在 JSON 请求体中：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;jsonrpc&#34;</span><span class="p">:</span> <span class="s2">&#34;2.0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="s2">&#34;uuid-or-number&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;method&#34;</span><span class="p">:</span> <span class="s2">&#34;method-name&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;params&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;paramName1&#34;</span><span class="p">:</span> <span class="s2">&#34;value1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;paramName2&#34;</span><span class="p">:</span> <span class="s2">&#34;value2&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>其中：</p>
<ul>
<li><code>jsonrpc</code>: 固定值 &ldquo;2.0&rdquo;，指定协议版本</li>
<li><code>id</code>: 请求标识符，可以是字符串或数字，用于关联请求和响应</li>
<li><code>method</code>: 要调用的方法名称</li>
<li><code>params</code>: 可选参数，可以是对象或数组</li>
</ul>
<h5 id="响应response格式" class="heading-element"><span>响应（Response）格式</span>
  <a href="#%e5%93%8d%e5%ba%94response%e6%a0%bc%e5%bc%8f" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h5><p>JSON-RPC 响应会包含原始请求的 <code>id</code>，以允许客户端关联请求和响应（特别是在批量请求的情况下）：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;jsonrpc&#34;</span><span class="p">:</span> <span class="s2">&#34;2.0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="s2">&#34;uuid-or-number&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;result&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;key1&#34;</span><span class="p">:</span> <span class="s2">&#34;value1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;key2&#34;</span><span class="p">:</span> <span class="s2">&#34;value2&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>如果发生错误，响应将包含 <code>error</code> 字段而非 <code>result</code>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;jsonrpc&#34;</span><span class="p">:</span> <span class="s2">&#34;2.0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="s2">&#34;uuid-or-number&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;error&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;code&#34;</span><span class="p">:</span> <span class="mi">-32601</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;message&#34;</span><span class="p">:</span> <span class="s2">&#34;Method not found&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;data&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;additionalInfo&#34;</span><span class="p">:</span> <span class="s2">&#34;Optional error details&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="批量请求处理" class="heading-element"><span>批量请求处理</span>
  <a href="#%e6%89%b9%e9%87%8f%e8%af%b7%e6%b1%82%e5%a4%84%e7%90%86" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>JSON-RPC 2.0 支持批量请求，允许客户端在单个 HTTP 请求中发送多个 RPC 调用，这在需要执行多个相关操作时非常有用：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="c1">// 批量请求示例
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span><span class="nt">&#34;jsonrpc&#34;</span><span class="p">:</span> <span class="s2">&#34;2.0&#34;</span><span class="p">,</span> <span class="nt">&#34;method&#34;</span><span class="p">:</span> <span class="s2">&#34;sum&#34;</span><span class="p">,</span> <span class="nt">&#34;params&#34;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span><span class="nt">&#34;jsonrpc&#34;</span><span class="p">:</span> <span class="s2">&#34;2.0&#34;</span><span class="p">,</span> <span class="nt">&#34;method&#34;</span><span class="p">:</span> <span class="s2">&#34;subtract&#34;</span><span class="p">,</span> <span class="nt">&#34;params&#34;</span><span class="p">:</span> <span class="p">[</span><span class="mi">42</span><span class="p">,</span><span class="mi">23</span><span class="p">],</span> <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span><span class="nt">&#34;jsonrpc&#34;</span><span class="p">:</span> <span class="s2">&#34;2.0&#34;</span><span class="p">,</span> <span class="nt">&#34;method&#34;</span><span class="p">:</span> <span class="s2">&#34;foo.get&#34;</span><span class="p">,</span> <span class="nt">&#34;params&#34;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;myself&#34;</span><span class="p">},</span> <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 相应的批量响应
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span><span class="nt">&#34;jsonrpc&#34;</span><span class="p">:</span> <span class="s2">&#34;2.0&#34;</span><span class="p">,</span> <span class="nt">&#34;result&#34;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span><span class="nt">&#34;jsonrpc&#34;</span><span class="p">:</span> <span class="s2">&#34;2.0&#34;</span><span class="p">,</span> <span class="nt">&#34;error&#34;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&#34;code&#34;</span><span class="p">:</span> <span class="mi">-32601</span><span class="p">,</span> <span class="nt">&#34;message&#34;</span><span class="p">:</span> <span class="s2">&#34;Method not found&#34;</span><span class="p">},</span> <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span><span class="nt">&#34;jsonrpc&#34;</span><span class="p">:</span> <span class="s2">&#34;2.0&#34;</span><span class="p">,</span> <span class="nt">&#34;result&#34;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&#34;firstName&#34;</span><span class="p">:</span> <span class="s2">&#34;John&#34;</span><span class="p">,</span> <span class="nt">&#34;lastName&#34;</span><span class="p">:</span> <span class="s2">&#34;Doe&#34;</span><span class="p">,</span> <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">30</span><span class="p">},</span> <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span></span></span></code></pre></td></tr></table>
</div>
</div><p>值得注意的是，与 gRPC 使用流式处理批量请求不同，JSON-RPC 的批量请求是通过将多个请求打包到一个数组中实现的。</p>
<h3 id="tools-功能" class="heading-element"><span>Tools 功能</span>
  <a href="#tools-%e5%8a%9f%e8%83%bd" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>Tools（工具）是 MCP 协议中最强大的组件之一，它允许 AI 模型执行各种操作和交互。
与只能被读取的 Resources 不同，Tools 可以修改状态或与外部系统交互，这使得 AI 模型能够执行复杂的任务。</p>
<h4 id="工具的特点" class="heading-element"><span>工具的特点</span>
  <a href="#%e5%b7%a5%e5%85%b7%e7%9a%84%e7%89%b9%e7%82%b9" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>Tools 具有以下几个关键特点：</p>
<ol>
<li>
<p><strong>唯一标识</strong>：每个工具都有一个唯一的名称，用于在 MCP Server 中识别</p>
</li>
<li>
<p><strong>描述性元数据</strong>：工具包含清晰的描述，使 AI 模型能够理解其用途和功能</p>
</li>
<li>
<p><strong>结构化参数</strong>：工具定义了所需的输入参数及其类型，使 AI 可以正确地调用它们</p>
</li>
<li>
<p><strong>状态修改能力</strong>：工具可以执行操作并修改系统状态，如创建文件、发送电子邮件或查询数据库</p>
</li>
</ol>
<h4 id="工具的定义格式" class="heading-element"><span>工具的定义格式</span>
  <a href="#%e5%b7%a5%e5%85%b7%e7%9a%84%e5%ae%9a%e4%b9%89%e6%a0%bc%e5%bc%8f" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>在 MCP 中，工具的定义通常包含以下元数据：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;tool_name&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;What this tool does and when to use it&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;inputSchema&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;object&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;properties&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;param1&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;string&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Description of parameter 1&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;param2&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;number&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Description of parameter 2&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;required&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;param1&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;annotations&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;destructiveHint&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;openWorldHint&#34;</span><span class="p">:</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>其中：</p>
<ul>
<li><code>name</code>：工具的唯一标识符</li>
<li><code>description</code>：工具的用途和功能描述</li>
<li><code>inputSchema</code>：使用 JSON Schema 定义的输入参数结构</li>
<li><code>annotations</code>：可选的元数据，提供关于工具行为的额外信息</li>
</ul>
<h4 id="工具调用流程" class="heading-element"><span>工具调用流程</span>
  <a href="#%e5%b7%a5%e5%85%b7%e8%b0%83%e7%94%a8%e6%b5%81%e7%a8%8b" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>当 AI 模型需要使用特定工具时，调用流程通常如下：</p>
<ol>
<li>
<p>AI 模型首先通过 <code>tools/list</code> 方法获取可用工具列表</p>
</li>
<li>
<p>根据工具描述和当前任务，AI 模型选择适合的工具</p>
</li>
<li>
<p>AI 模型通过 <code>tools/call</code> 方法调用工具，并提供必要的参数</p>
</li>
<li>
<p>MCP Server 执行工具操作并返回结果</p>
</li>
<li>
<p>AI 模型处理返回的结果并继续对话</p>
</li>
</ol>
<h4 id="工具的应用场景" class="heading-element"><span>工具的应用场景</span>
  <a href="#%e5%b7%a5%e5%85%b7%e7%9a%84%e5%ba%94%e7%94%a8%e5%9c%ba%e6%99%af" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>MCP 工具可以应用于各种场景，例如：</p>
<ul>
<li>
<p><strong>数据检索与分析</strong>：查询数据库、分析数据集、生成报表</p>
</li>
<li>
<p><strong>内容生成</strong>：创建文档、生成图表、编辑媒体文件</p>
</li>
<li>
<p><strong>系统集成</strong>：与外部 API 交互、发送通知、执行工作流程</p>
</li>
<li>
<p><strong>专业计算</strong>：运行复杂算法、执行模拟、进行科学计算</p>
</li>
</ul>
<h3 id="资源能力-resource-capability" class="heading-element"><span>资源能力 (Resource Capability)</span>
  <a href="#%e8%b5%84%e6%ba%90%e8%83%bd%e5%8a%9b-resource-capability" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>Resources 是 MCP 协议中的另一个关键组件，它为 AI 模型提供了访问各种数据和信息的能力。
与 Tools 不同，Resources 仅提供只读访问，不能修改系统状态。</p>
<h4 id="资源的核心特点" class="heading-element"><span>资源的核心特点</span>
  <a href="#%e8%b5%84%e6%ba%90%e7%9a%84%e6%a0%b8%e5%bf%83%e7%89%b9%e7%82%b9" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>资源具有以下几个关键特点：</p>
<ol>
<li>
<p><strong>唯一标识</strong>：每个资源都由唯一的 URI 标识，便于引用和访问</p>
</li>
<li>
<p><strong>数据多样性</strong>：资源可以包含文本或二进制数据，支持各种类型的信息</p>
</li>
<li>
<p><strong>只读特性</strong>：资源只能被读取，不能被修改，确保了数据的安全性</p>
</li>
<li>
<p><strong>上下文增强</strong>：资源为 AI 模型提供了额外的上下文信息，提高了应答的精准性</p>
</li>
</ol>
<h4 id="常见的资源类型" class="heading-element"><span>常见的资源类型</span>
  <a href="#%e5%b8%b8%e8%a7%81%e7%9a%84%e8%b5%84%e6%ba%90%e7%b1%bb%e5%9e%8b" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>MCP 服务器可以提供各种类型的资源，包括：</p>
<ul>
<li>
<p><strong>文件内容</strong>：文档、代码、配置文件等</p>
</li>
<li>
<p><strong>数据库记录</strong>：数据表、查询结果、统计信息</p>
</li>
<li>
<p><strong>API 响应</strong>：来自外部服务的 JSON、XML 等格式的响应</p>
</li>
<li>
<p><strong>实时系统数据</strong>：监控指标、日志、状态信息</p>
</li>
<li>
<p><strong>多媒体资源</strong>：图像、音频、视频的元数据或内容</p>
</li>
</ul>
<h4 id="资源与工具的区别" class="heading-element"><span>资源与工具的区别</span>
  <a href="#%e8%b5%84%e6%ba%90%e4%b8%8e%e5%b7%a5%e5%85%b7%e7%9a%84%e5%8c%ba%e5%88%ab" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>Resources 和 Tools 之间的主要区别在于：</p>
<table>
  <thead>
      <tr>
          <th>特性</th>
          <th>Resources</th>
          <th>Tools</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>访问权限</td>
          <td>只读 (ReadOnly)</td>
          <td>读写 (Read/Write)</td>
      </tr>
      <tr>
          <td>状态修改</td>
          <td>不能修改状态</td>
          <td>可以修改系统状态</td>
      </tr>
      <tr>
          <td>主要用途</td>
          <td>提供上下文信息</td>
          <td>执行操作和交互</td>
      </tr>
      <tr>
          <td>标识方式</td>
          <td>URI</td>
          <td>名称</td>
      </tr>
      <tr>
          <td>安全级别</td>
          <td>较高</td>
          <td>需要额外权限控制</td>
      </tr>
  </tbody>
</table>
<blockquote>
<p>可以将 Resources 理解为“知识源”，提供各种数据库、表格和文件的访问；而 Tools 则是“操作工具”，允许执行 CRUD 操作、计算和其他交互。</p></blockquote>
<h4 id="资源的访问方法" class="heading-element"><span>资源的访问方法</span>
  <a href="#%e8%b5%84%e6%ba%90%e7%9a%84%e8%ae%bf%e9%97%ae%e6%96%b9%e6%b3%95" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>MCP 协议定义了以下几个方法来访问资源：</p>
<h4 id="资源访问方法" class="heading-element"><span>资源访问方法</span>
  <a href="#%e8%b5%84%e6%ba%90%e8%ae%bf%e9%97%ae%e6%96%b9%e6%b3%95" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>MCP 协议定义了以下几个方法来访问和管理资源：</p>
<ul>
<li>
<p><code>resource/list</code>：列出可用的资源，包括其 URI 和元数据</p>
</li>
<li>
<p><code>resource/read</code>：读取特定资源的内容</p>
</li>
<li>
<p><code>resource/subscribe</code>：订阅资源的变化通知</p>
</li>
<li>
<p><code>notifications/resource/update</code>：接收资源更新的通知</p>
</li>
</ul>
<p>下图展示了 MCP 资源的基本工作流程：</p>
<figure><img src="/posts/MCP/mcp-resource.png"><figcaption>
      <h4>MCP 资源工作流程</h4>
    </figcaption>
</figure>

<h4 id="资源的应用场景" class="heading-element"><span>资源的应用场景</span>
  <a href="#%e8%b5%84%e6%ba%90%e7%9a%84%e5%ba%94%e7%94%a8%e5%9c%ba%e6%99%af" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>资源功能在多种场景中非常有用，例如：</p>
<ul>
<li>
<p><strong>知识库集成</strong>：允许 AI 模型访问最新的专业知识和文档</p>
</li>
<li>
<p><strong>实时数据分析</strong>：提供实时系统指标和数据流</p>
</li>
<li>
<p><strong>上下文感知应用</strong>：使 AI 模型能够基于当前环境和用户状态提供定制化响应</p>
</li>
<li>
<p><strong>安全数据访问</strong>：允许受控的访问敏感数据，而不需要将其完全暴露给 AI 模型</p>
</li>
</ul>
<h3 id="提示能力-prompt-capability" class="heading-element"><span>提示能力 (Prompt Capability)</span>
  <a href="#%e6%8f%90%e7%a4%ba%e8%83%bd%e5%8a%9b-prompt-capability" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>Prompt 能力是 MCP 协议中的另一个关键组件，它允许 MCP Server 定义特定的提示模板，指导 AI 模型如何处理特定类型的任务或生成特定格式的输出。</p>
<h4 id="提示的作用与价值" class="heading-element"><span>提示的作用与价值</span>
  <a href="#%e6%8f%90%e7%a4%ba%e7%9a%84%e4%bd%9c%e7%94%a8%e4%b8%8e%e4%bb%b7%e5%80%bc" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>Prompt 能力主要解决以下几个问题：</p>
<ol>
<li>
<p><strong>标准化输出</strong>：确保 AI 模型生成的响应符合特定的格式和结构</p>
</li>
<li>
<p><strong>专业领域指导</strong>：为 AI 模型提供特定领域的指导和最佳实践</p>
</li>
<li>
<p><strong>一致性保证</strong>：确保不同的 AI 交互保持一致的语调和响应风格</p>
</li>
<li>
<p><strong>工作流程优化</strong>：定义结构化的对话流程，提高交互效率</p>
</li>
</ol>
<h4 id="提示的元数据结构" class="heading-element"><span>提示的元数据结构</span>
  <a href="#%e6%8f%90%e7%a4%ba%e7%9a%84%e5%85%83%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>在 MCP 中，提示的元数据定义如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="err">name:</span> <span class="err">string;</span>              <span class="c1">// Unique identifier for the prompt
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="err">description?:</span> <span class="err">string;</span>      <span class="c1">// Human-readable description
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="err">arguments?:</span> <span class="err">[</span>              <span class="c1">// Optional list of arguments
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">{</span>
</span></span><span class="line"><span class="cl">      <span class="err">name:</span> <span class="err">string;</span>          <span class="c1">// Argument identifier
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="err">description?:</span> <span class="err">string;</span>  <span class="c1">// Argument description
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="err">required?:</span> <span class="err">boolean;</span>    <span class="c1">// Whether argument is required
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="err">]</span>
</span></span><span class="line"><span class="cl"><span class="err">}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>其中：</p>
<ul>
<li><code>name</code>：在同一个 Server 内必须唯一的提示标识符</li>
<li><code>description</code>：提示的用途和功能描述</li>
<li><code>arguments</code>：可选的参数列表，每个参数都有自己的名称、描述和是否必需</li>
</ul>
<h4 id="提示的访问方法" class="heading-element"><span>提示的访问方法</span>
  <a href="#%e6%8f%90%e7%a4%ba%e7%9a%84%e8%ae%bf%e9%97%ae%e6%96%b9%e6%b3%95" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>与 Tools 和 Resources 类似，MCP 协议定义了以下方法来访问提示：</p>
<ul>
<li><code>prompts/list</code>：获取所有可用的提示及其元数据</li>
<li><code>prompts/get</code>：获取指定提示的模板内容</li>
</ul>
<h4 id="提示中的角色定义" class="heading-element"><span>提示中的角色定义</span>
  <a href="#%e6%8f%90%e7%a4%ba%e4%b8%ad%e7%9a%84%e8%a7%92%e8%89%b2%e5%ae%9a%e4%b9%89" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>在 Prompt 模板中，可以定义两种主要角色（Role）来指导 AI 模型的行为：</p>
<ul>
<li><strong>User</strong>：代表与系统交互的用户，提供问题和上下文信息</li>
<li><strong>Assistant</strong>：代表 AI 模型本身，负责处理用户请求并生成响应</li>
</ul>
<p>这种角色定义允许 MCP Server 创建结构化的对话流，指导 AI 模型如何处理特定类型的交互。</p>
<h4 id="提示的应用场景" class="heading-element"><span>提示的应用场景</span>
  <a href="#%e6%8f%90%e7%a4%ba%e7%9a%84%e5%ba%94%e7%94%a8%e5%9c%ba%e6%99%af" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>Prompt 能力在多种场景中非常有用，例如：</p>
<ul>
<li><strong>结构化数据生成</strong>：创建符合特定格式的 JSON、XML 或其他数据结构</li>
<li><strong>专业领域应用</strong>：为医疗、法律、金融等领域提供特定的指导</li>
<li><strong>多语言支持</strong>：定义不同语言的响应模板</li>
<li><strong>响应一致性</strong>：确保在不同交互中保持一致的响应风格和语调</li>
</ul>
<h3 id="mcp-传输层-transport" class="heading-element"><span>MCP 传输层 (Transport)</span>
  <a href="#mcp-%e4%bc%a0%e8%be%93%e5%b1%82-transport" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>MCP 协议的传输层定义了 Client 和 Server 之间的通信方式。MCP 设计了多种灵活的传输方式，以适应不同的部署场景和应用需求。</p>
<h4 id="传输层的作用" class="heading-element"><span>传输层的作用</span>
  <a href="#%e4%bc%a0%e8%be%93%e5%b1%82%e7%9a%84%e4%bd%9c%e7%94%a8" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>传输层在 MCP 中承担以下重要职责：</p>
<ol>
<li>
<p><strong>建立连接</strong>：在 Client 和 Server 之间创建可靠的通信通道</p>
</li>
<li>
<p><strong>消息传递</strong>：确保 JSON-RPC 消息的可靠传递</p>
</li>
<li>
<p><strong>会话管理</strong>：维护 Client 和 Server 之间的会话状态</p>
</li>
<li>
<p><strong>错误处理</strong>：处理通信过程中的异常情况</p>
</li>
</ol>
<h4 id="支持的传输方式" class="heading-element"><span>支持的传输方式</span>
  <a href="#%e6%94%af%e6%8c%81%e7%9a%84%e4%bc%a0%e8%be%93%e6%96%b9%e5%bc%8f" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>MCP 当前支持以下几种主要的传输方式：</p>
<h5 id="1-stdio-标准输入输出" class="heading-element"><span>1. stdio 标准输入输出</span>
  <a href="#1-stdio-%e6%a0%87%e5%87%86%e8%be%93%e5%85%a5%e8%be%93%e5%87%ba" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h5><p>stdio 是最简单的传输方式，利用标准输入和输出流进行通信。这种方式特别适合本地集成和命令行工具。</p>
<p><strong>主要特点：</strong></p>
<ul>
<li><strong>简单性</strong>：无需网络设置或端口配置</li>
<li><strong>低开销</strong>：最小化的集成要求</li>
<li><strong>本地性</strong>：适合本地运行的应用</li>
<li><strong>安全性</strong>：无需网络暴露</li>
</ul>
<figure><img src="/posts/MCP/server-stdio.png"><figcaption>
      <h4>MCP stdio 传输模式</h4>
    </figcaption>
</figure>

<h5 id="2-http-with-sse" class="heading-element"><span>2. HTTP with SSE</span>
  <a href="#2-http-with-sse" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h5><p>HTTP with SSE（Server-Sent Events）是一种基于 Web 的传输方式，允许通过 HTTP 协议进行双向通信，并使用 SSE 实现服务器到客户端的实时推送。</p>
<p><strong>主要特点：</strong></p>
<ul>
<li><strong>Web 兼容性</strong>：可以在浏览器和 Web 环境中使用</li>
<li><strong>分布式部署</strong>：支持跨网络的分布式部署</li>
<li><strong>实时推送</strong>：服务器可以实时推送消息到客户端</li>
<li><strong>扩展性</strong>：可以集成到现有的 Web 服务中</li>
</ul>
<figure><img src="/posts/MCP/server-sse.png"><figcaption>
      <h4>MCP HTTP with SSE 传输模式</h4>
    </figcaption>
</figure>

<h5 id="3-streamable-http" class="heading-element"><span>3. Streamable HTTP</span>
  <a href="#3-streamable-http" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h5><p>Streamable HTTP 是一种正在开发中的传输方式，旨在提供更高效的流式数据传输。这种方式特别适合需要处理大量数据或实时流的场景。</p>
<p><strong>预期特点：</strong></p>
<ul>
<li><strong>高效流式处理</strong>：优化的数据流传输</li>
<li><strong>低延迟</strong>：减少端到端的响应时间</li>
<li><strong>双向流</strong>：支持客户端和服务器之间的双向数据流</li>
</ul>
<blockquote>
<p>注意：Streamable HTTP 传输方式目前仍在开发中，规范可能会发生变化。</p></blockquote>
<h4 id="选择合适的传输方式" class="heading-element"><span>选择合适的传输方式</span>
  <a href="#%e9%80%89%e6%8b%a9%e5%90%88%e9%80%82%e7%9a%84%e4%bc%a0%e8%be%93%e6%96%b9%e5%bc%8f" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>选择哪种传输方式取决于你的应用需求：</p>
<table>
  <thead>
      <tr>
          <th>传输方式</th>
          <th>适用场景</th>
          <th>优势</th>
          <th>劣势</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>stdio</td>
          <td>本地应用、命令行工具</td>
          <td>简单、快速集成</td>
          <td>仅限本地使用</td>
      </tr>
      <tr>
          <td>HTTP with SSE</td>
          <td>Web 应用、分布式系统</td>
          <td>广泛兼容性、易于部署</td>
          <td>需要网络配置</td>
      </tr>
      <tr>
          <td>Streamable HTTP</td>
          <td>大数据处理、实时流应用</td>
          <td>高效、低延迟</td>
          <td>仍在开发中</td>
      </tr>
  </tbody>
</table>
<h3 id="mcp-生命周期-life-cycle" class="heading-element"><span>MCP 生命周期 (Life Cycle)</span>
  <a href="#mcp-%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f-life-cycle" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>MCP 协议定义了一个清晰的客户端和服务器之间的通信生命周期。这个生命周期管理确保了连接的可靠性和双方能力的正确协商。</p>
<h4 id="生命周期的三个阶段" class="heading-element"><span>生命周期的三个阶段</span>
  <a href="#%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f%e7%9a%84%e4%b8%89%e4%b8%aa%e9%98%b6%e6%ae%b5" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>MCP 生命周期包含以下三个清晰定义的阶段：</p>
<h5 id="1-初始化阶段-initialize" class="heading-element"><span>1. 初始化阶段 (Initialize)</span>
  <a href="#1-%e5%88%9d%e5%a7%8b%e5%8c%96%e9%98%b6%e6%ae%b5-initialize" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h5><p>初始化阶段是 MCP 连接的第一步，也是最关键的一步。在这个阶段，客户端和服务器会进行以下操作：</p>
<ul>
<li>
<p><strong>协议版本协商</strong>：确定双方支持的 MCP 协议版本</p>
</li>
<li>
<p><strong>能力发现</strong>：服务器向客户端公布其支持的能力（Tools、Resources、Prompts 等）</p>
</li>
<li>
<p><strong>参数协商</strong>：协商连接参数和限制</p>
</li>
<li>
<p><strong>身份信息交换</strong>：客户端和服务器交换基本信息（名称、版本等）</p>
</li>
</ul>
<p>这个阶段使用 <code>initialize</code> 方法，客户端发送请求，服务器响应其能力。</p>
<h5 id="2-操作阶段-operation" class="heading-element"><span>2. 操作阶段 (Operation)</span>
  <a href="#2-%e6%93%8d%e4%bd%9c%e9%98%b6%e6%ae%b5-operation" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h5><p>初始化成功后，连接进入操作阶段。在这个阶段：</p>
<ul>
<li>
<p><strong>功能调用</strong>：客户端可以调用服务器提供的各种功能（如 tools/call、resource/read 等）</p>
</li>
<li>
<p><strong>状态维护</strong>：服务器维护会话状态和上下文</p>
</li>
<li>
<p><strong>双向通信</strong>：客户端和服务器可以进行双向通信，服务器可以发送通知</p>
</li>
<li>
<p><strong>错误处理</strong>：处理操作过程中的各种错误情况</p>
</li>
</ul>
<p>这个阶段是 MCP 连接的主要工作阶段，可能持续较长时间。</p>
<h5 id="3-关闭阶段-shutdown" class="heading-element"><span>3. 关闭阶段 (Shutdown)</span>
  <a href="#3-%e5%85%b3%e9%97%ad%e9%98%b6%e6%ae%b5-shutdown" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h5><p>当客户端或服务器需要终止连接时，进入关闭阶段：</p>
<ul>
<li>
<p><strong>优雅终止</strong>：客户端发送 <code>shutdown</code> 请求，通知服务器即将终止连接</p>
</li>
<li>
<p><strong>资源释放</strong>：服务器释放与该连接相关的资源</p>
</li>
<li>
<p><strong>状态清理</strong>：清理会话状态和临时数据</p>
</li>
</ul>
<p>关闭阶段确保了连接的正常终止，防止资源泄漏和状态不一致。</p>
<h4 id="生命周期的重要性" class="heading-element"><span>生命周期的重要性</span>
  <a href="#%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f%e7%9a%84%e9%87%8d%e8%a6%81%e6%80%a7" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>清晰定义的生命周期对 MCP 协议有以下重要作用：</p>
<ol>
<li>
<p><strong>可靠性</strong>：确保连接的建立、维护和终止都按照预期的方式进行</p>
</li>
<li>
<p><strong>兼容性</strong>：通过协议版本协商，确保不同版本的客户端和服务器可以兼容工作</p>
</li>
<li>
<p><strong>动态发现</strong>：允许客户端动态发现服务器的能力，而不需要预先编码</p>
</li>
<li>
<p><strong>资源管理</strong>：确保资源在不再需要时被正确释放</p>
</li>
</ol>
<p>下图展示了 MCP 生命周期的完整流程：</p>
<figure><img src="/posts/MCP/mcp-lifecycle.png"><figcaption>
      <h4>MCP 生命周期流程</h4>
    </figcaption>
</figure>

<h2 id="server-inspector-调试工具" class="heading-element"><span>Server Inspector 调试工具</span>
  <a href="#server-inspector-%e8%b0%83%e8%af%95%e5%b7%a5%e5%85%b7" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>MCP 生态系统的一个重要组成部分是开发者工具，其中 Server Inspector 是一个专为 MCP 服务器设计的交互式调试工具。
它类似于 API 开发中的 Postman 或 gRPC 开发中的 BloomRPC，但专门针对 MCP 协议进行了优化。</p>
<h3 id="为什么需要-server-inspector" class="heading-element"><span>为什么需要 Server Inspector</span>
  <a href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e9%9c%80%e8%a6%81-server-inspector" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>Server Inspector 解决了 MCP 开发中的几个关键问题：</p>
<ol>
<li>
<p><strong>简化测试流程</strong>：无需编写客户端代码就能测试 MCP 服务器</p>
</li>
<li>
<p><strong>可视化调试</strong>：提供图形界面查看请求和响应</p>
</li>
<li>
<p><strong>快速原型制作</strong>：快速验证 MCP 服务器的功能</p>
</li>
<li>
<p><strong>多传输方式支持</strong>：支持 stdio 和 HTTP+SSE 传输方式</p>
</li>
</ol>
<h3 id="安装与使用" class="heading-element"><span>安装与使用</span>
  <a href="#%e5%ae%89%e8%a3%85%e4%b8%8e%e4%bd%bf%e7%94%a8" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>Server Inspector 的设计非常灵活，可以直接通过 npx 运行，无需安装：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 基本用法</span>
</span></span><span class="line"><span class="cl">npx @modelcontextprotocol/inspector &lt;command&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 传递命令行参数</span>
</span></span><span class="line"><span class="cl">npx @modelcontextprotocol/inspector &lt;command&gt; &lt;arg1&gt; &lt;arg2&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 传递环境变量</span>
</span></span><span class="line"><span class="cl">npx @modelcontextprotocol/inspector -e <span class="nv">KEY</span><span class="o">=</span>value -e <span class="nv">KEY2</span><span class="o">=</span><span class="nv">$VALUE2</span> &lt;command&gt; &lt;arg1&gt; &lt;arg2&gt;</span></span></code></pre></td></tr></table>
</div>
</div><p>其中：</p>
<ul>
<li><code>@modelcontextprotocol/inspector</code> 是包的完整名称，其中 <code>@modelcontextprotocol</code> 是组织作用域</li>
<li><code>&lt;command&gt;</code> 是要执行的 MCP 服务器命令，可以是可执行文件或脚本</li>
<li><code>&lt;arg...&gt;</code> 是传递给 MCP 服务器的命令行参数</li>
<li><code>-e KEY=VALUE</code> 参数允许设置环境变量</li>
</ul>
<h3 id="架构与组件" class="heading-element"><span>架构与组件</span>
  <a href="#%e6%9e%b6%e6%9e%84%e4%b8%8e%e7%bb%84%e4%bb%b6" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>当启动 Server Inspector 时，它会创建两个主要组件：</p>
<ol>
<li>
<p><strong>Web 界面</strong>：一个基于浏览器的图形化界面，默认运行在端口 5173。该界面允许你：</p>
<ul>
<li>查看服务器能力（Tools、Resources 等）</li>
<li>发送请求并查看响应</li>
<li>查看详细的日志和调试信息</li>
<li>保存和加载请求模板</li>
</ul>
</li>
<li>
<p><strong>代理服务器</strong>：一个运行在端口 3000 的代理服务，负责：</p>
<ul>
<li>与目标 MCP 服务器建立连接</li>
<li>转发请求和响应</li>
<li>提供日志和调试信息</li>
</ul>
</li>
</ol>
<h3 id="使用场景" class="heading-element"><span>使用场景</span>
  <a href="#%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>Server Inspector 在以下场景中特别有用：</p>
<ol>
<li>
<p><strong>MCP 服务器开发</strong>：在开发新的 MCP 服务器时进行快速测试</p>
</li>
<li>
<p><strong>API 调试</strong>：调试现有 MCP 服务器的 API 和功能</p>
</li>
<li>
<p><strong>原型制作</strong>：快速创建和测试 MCP 功能原型</p>
</li>
<li>
<p><strong>文档生成</strong>：探索服务器能力并生成文档</p>
</li>
</ol>
<h3 id="高级功能" class="heading-element"><span>高级功能</span>
  <a href="#%e9%ab%98%e7%ba%a7%e5%8a%9f%e8%83%bd" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>Server Inspector 还提供了一些高级功能：</p>
<ul>
<li><strong>会话管理</strong>：维护多个 MCP 会话</li>
<li><strong>请求历史</strong>：记录和重放之前的请求</li>
<li><strong>导出功能</strong>：将请求和响应导出为代码或文档</li>
<li><strong>批量测试</strong>：执行批量请求进行压力测试</li>
</ul>
<h3 id="与其他工具的集成" class="heading-element"><span>与其他工具的集成</span>
  <a href="#%e4%b8%8e%e5%85%b6%e4%bb%96%e5%b7%a5%e5%85%b7%e7%9a%84%e9%9b%86%e6%88%90" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>Server Inspector 可以与其他开发工具集成：</p>
<ul>
<li><strong>CI/CD 系统</strong>：在自动化测试中使用</li>
<li><strong>IDE 插件</strong>：与 VSCode 等 IDE 集成</li>
<li><strong>文档系统</strong>：生成 API 文档</li>
</ul>
<p>要了解更多信息，可以访问 <a href="https://github.com/modelcontextprotocol/inspector"target="_blank" rel="external nofollow noopener noreferrer">Server Inspector 官方仓库<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a>。</p>
<h2 id="mcp-server-中的-hello-world-示例" class="heading-element"><span>MCP Server 中的 &ldquo;Hello World&rdquo; 示例</span>
  <a href="#mcp-server-%e4%b8%ad%e7%9a%84-hello-world-%e7%a4%ba%e4%be%8b" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>为了更好地理解 MCP 协议的实际应用，我们来创建一个简单的 &ldquo;Hello World&rdquo; 示例。这个示例将展示如何使用 Go 语言创建一个基本的 MCP 服务器，并实现一个简单的问候工具。</p>
<h3 id="实现目标" class="heading-element"><span>实现目标</span>
  <a href="#%e5%ae%9e%e7%8e%b0%e7%9b%ae%e6%a0%87" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>我们将创建一个具有以下功能的 MCP 服务器：</p>
<ol>
<li>支持多种传输方式（stdio 和 SSE）</li>
<li>提供一个简单的 <code>hello_world</code> 工具，可以问候用户</li>
<li>实现完整的 MCP 生命周期</li>
</ol>
<h3 id="代码实现" class="heading-element"><span>代码实现</span>
  <a href="#%e4%bb%a3%e7%a0%81%e5%ae%9e%e7%8e%b0" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>以下是使用 Go 语言实现的完整代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span><span class="lnt">90
</span><span class="lnt">91
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// main.go</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl"> <span class="s">&#34;context&#34;</span>
</span></span><span class="line"><span class="cl"> <span class="s">&#34;flag&#34;</span>
</span></span><span class="line"><span class="cl"> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl"> <span class="s">&#34;log&#34;</span>
</span></span><span class="line"><span class="cl"> <span class="s">&#34;os&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="s">&#34;github.com/mark3labs/mcp-go/mcp&#34;</span>
</span></span><span class="line"><span class="cl"> <span class="s">&#34;github.com/mark3labs/mcp-go/server&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="c1">// 定义命令行参数，支持多种传输方式</span>
</span></span><span class="line"><span class="cl"> <span class="kd">var</span> <span class="nx">transport</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"> <span class="nx">flag</span><span class="p">.</span><span class="nf">StringVar</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">transport</span><span class="p">,</span> <span class="s">&#34;t&#34;</span><span class="p">,</span> <span class="s">&#34;stdio&#34;</span><span class="p">,</span> <span class="s">&#34;Transport type (stdio or sse)&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="nx">flag</span><span class="p">.</span><span class="nf">StringVar</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="o">&amp;</span><span class="nx">transport</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;transport&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;stdio&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Transport type (stdio or sse)&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"> <span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="nx">addr</span> <span class="o">:=</span> <span class="nx">flag</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="s">&#34;sse-address&#34;</span><span class="p">,</span> <span class="s">&#34;localhost:5568&#34;</span><span class="p">,</span> <span class="s">&#34;The host and port to start the sse server on&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="nx">flag</span><span class="p">.</span><span class="nf">Parse</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="o">*</span><span class="nx">addr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="c1">// 启动服务器</span>
</span></span><span class="line"><span class="cl"> <span class="k">if</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nf">run</span><span class="p">(</span><span class="nx">transport</span><span class="p">,</span> <span class="o">*</span><span class="nx">addr</span><span class="p">);</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">run</span><span class="p">(</span><span class="nx">transport</span><span class="p">,</span> <span class="nx">addr</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="c1">// Create MCP server with explicit options</span>
</span></span><span class="line"><span class="cl"> <span class="nx">s</span> <span class="o">:=</span> <span class="nx">server</span><span class="p">.</span><span class="nf">NewMCPServer</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Demo 🚀&#34;</span><span class="p">,</span>  <span class="c1">// 服务器名称</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;1.0.0&#34;</span><span class="p">,</span>         <span class="c1">// 版本号</span>
</span></span><span class="line"><span class="cl"> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="c1">// Add tool with more explicit configuration</span>
</span></span><span class="line"><span class="cl"> <span class="nx">tool</span> <span class="o">:=</span> <span class="nx">mcp</span><span class="p">.</span><span class="nf">NewTool</span><span class="p">(</span><span class="s">&#34;hello_world&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">mcp</span><span class="p">.</span><span class="nf">WithDescription</span><span class="p">(</span><span class="s">&#34;Say hello to someone&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">mcp</span><span class="p">.</span><span class="nf">WithString</span><span class="p">(</span><span class="s">&#34;name&#34;</span><span class="p">,</span>  <span class="c1">// 定义字符串参数</span>
</span></span><span class="line"><span class="cl">   <span class="nx">mcp</span><span class="p">.</span><span class="nf">Required</span><span class="p">(),</span>      <span class="c1">// 设置为必需参数</span>
</span></span><span class="line"><span class="cl">   <span class="nx">mcp</span><span class="p">.</span><span class="nf">Description</span><span class="p">(</span><span class="s">&#34;Name of the person to greet&#34;</span><span class="p">),</span>  <span class="c1">// 参数描述</span>
</span></span><span class="line"><span class="cl">  <span class="p">),</span>
</span></span><span class="line"><span class="cl"> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="c1">// Add tool handler</span>
</span></span><span class="line"><span class="cl"> <span class="nx">s</span><span class="p">.</span><span class="nf">AddTool</span><span class="p">(</span><span class="nx">tool</span><span class="p">,</span> <span class="nx">helloHandler</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="c1">// s.AddTools(server.ServerTool{Tool: tool, Handler: helloHandler})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="c1">// Debug information</span>
</span></span><span class="line"><span class="cl"> <span class="nx">log</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;Registered tool: hello_world&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="k">switch</span> <span class="nx">transport</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="k">case</span> <span class="s">&#34;stdio&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="nx">srv</span> <span class="o">:=</span> <span class="nx">server</span><span class="p">.</span><span class="nf">NewStdioServer</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">srv</span><span class="p">.</span><span class="nf">Listen</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Stdin</span><span class="p">,</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Stdout</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="k">case</span> <span class="s">&#34;sse&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Create the SSE server with explicit debugging</span>
</span></span><span class="line"><span class="cl">  <span class="nx">srv</span> <span class="o">:=</span> <span class="nx">server</span><span class="p">.</span><span class="nf">NewSSEServer</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">log</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;SSE server listening on %s&#34;</span><span class="p">,</span> <span class="nx">addr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">srv</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="nx">addr</span><span class="p">);</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="k">return</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Errorf</span><span class="p">(</span><span class="s">&#34;Server error: %v&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// This code is unreachable as Start() blocks until error</span>
</span></span><span class="line"><span class="cl"> <span class="k">default</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Errorf</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;Invalid transport type: %s. Must be &#39;stdio&#39; or &#39;sse&#39;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nx">transport</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl"> <span class="k">return</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">helloHandler</span><span class="p">(</span><span class="nx">ctx</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span> <span class="nx">request</span> <span class="nx">mcp</span><span class="p">.</span><span class="nx">CallToolRequest</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">mcp</span><span class="p">.</span><span class="nx">CallToolResult</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="c1">// 从请求中提取参数</span>
</span></span><span class="line"><span class="cl"> <span class="nx">name</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">request</span><span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">Arguments</span><span class="p">[</span><span class="s">&#34;name&#34;</span><span class="p">].(</span><span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="k">if</span> <span class="p">!</span><span class="nx">ok</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// 参数错误时返回错误</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">mcp</span><span class="p">.</span><span class="nf">NewToolResultError</span><span class="p">(</span><span class="s">&#34;name must be a string&#34;</span><span class="p">),</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="c1">// 返回文本响应</span>
</span></span><span class="line"><span class="cl"> <span class="k">return</span> <span class="nx">mcp</span><span class="p">.</span><span class="nf">NewToolResultText</span><span class="p">(</span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;Hello, %s!&#34;</span><span class="p">,</span> <span class="nx">name</span><span class="p">)),</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="代码解析" class="heading-element"><span>代码解析</span>
  <a href="#%e4%bb%a3%e7%a0%81%e8%a7%a3%e6%9e%90" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>这个示例包含以下几个关键部分：</p>
<ol>
<li>
<p><strong>服务器创建</strong>：使用 <code>server.NewMCPServer()</code> 创建 MCP 服务器实例</p>
</li>
<li>
<p><strong>工具定义</strong>：使用 <code>mcp.NewTool()</code> 定义工具，包括名称、描述和参数</p>
</li>
<li>
<p><strong>工具处理函数</strong>：实现 <code>helloHandler</code> 函数处理工具调用</p>
</li>
<li>
<p><strong>多传输方式支持</strong>：支持 stdio 和 HTTP+SSE 两种传输方式</p>
</li>
</ol>
<h3 id="运行与测试" class="heading-element"><span>运行与测试</span>
  <a href="#%e8%bf%90%e8%a1%8c%e4%b8%8e%e6%b5%8b%e8%af%95" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>让我们来测试这个 MCP 服务器。我们将使用 SSE 传输方式，以便于通过 HTTP 进行测试。</p>
<h4 id="1-启动服务器" class="heading-element"><span>1. 启动服务器</span>
  <a href="#1-%e5%90%af%e5%8a%a8%e6%9c%8d%e5%8a%a1%e5%99%a8" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>首先，我们使用 SSE 模式启动服务器：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">&gt; go run ./main.go -t sse
</span></span><span class="line"><span class="cl">localhost:5568
</span></span><span class="line"><span class="cl">2025/05/17 11:36:23 Registered tool: hello_world
</span></span><span class="line"><span class="cl">2025/05/17 11:36:23 SSE server listening on localhost:5568</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="2-获取会话-id" class="heading-element"><span>2. 获取会话 ID</span>
  <a href="#2-%e8%8e%b7%e5%8f%96%e4%bc%9a%e8%af%9d-id" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>连接到 SSE 端点以获取会话 ID：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">&gt; curl http://localhost:5568/sse
</span></span><span class="line"><span class="cl">event: endpoint
</span></span><span class="line"><span class="cl">data: /message?sessionId<span class="o">=</span>05dfc3f8-bc10-42d4-b4fb-1c9de72ed444</span></span></code></pre></td></tr></table>
</div>
</div><p>这个响应提供了一个会话 ID，我们将在后续请求中使用它。</p>
<h4 id="3-初始化连接" class="heading-element"><span>3. 初始化连接</span>
  <a href="#3-%e5%88%9d%e5%a7%8b%e5%8c%96%e8%bf%9e%e6%8e%a5" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>接下来，我们发送 <code>initialize</code> 请求来启动 MCP 生命周期：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">&gt; curl -X POST --data <span class="s1">&#39;{
</span></span></span><span class="line"><span class="cl"><span class="s1">  &#34;jsonrpc&#34;: &#34;2.0&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s1">  &#34;id&#34;: 1,
</span></span></span><span class="line"><span class="cl"><span class="s1">  &#34;method&#34;: &#34;initialize&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s1">  &#34;params&#34;: {
</span></span></span><span class="line"><span class="cl"><span class="s1">    &#34;protocolVersion&#34;: &#34;2024-11-05&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s1">    &#34;capabilities&#34;: {
</span></span></span><span class="line"><span class="cl"><span class="s1">      &#34;roots&#34;: {
</span></span></span><span class="line"><span class="cl"><span class="s1">        &#34;listChanged&#34;: true
</span></span></span><span class="line"><span class="cl"><span class="s1">      },
</span></span></span><span class="line"><span class="cl"><span class="s1">      &#34;sampling&#34;: {}
</span></span></span><span class="line"><span class="cl"><span class="s1">    },
</span></span></span><span class="line"><span class="cl"><span class="s1">    &#34;clientInfo&#34;: {
</span></span></span><span class="line"><span class="cl"><span class="s1">      &#34;name&#34;: &#34;ExampleClient&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s1">      &#34;version&#34;: &#34;1.0.0&#34;
</span></span></span><span class="line"><span class="cl"><span class="s1">    }
</span></span></span><span class="line"><span class="cl"><span class="s1">  }
</span></span></span><span class="line"><span class="cl"><span class="s1">}&#39;</span> http://localhost:5568/message?sessionId<span class="o">=</span>05dfc3f8-bc10-42d4-b4fb-1c9de72ed444
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">event: message
</span></span><span class="line"><span class="cl">data: <span class="o">{</span><span class="s2">&#34;jsonrpc&#34;</span>:<span class="s2">&#34;2.0&#34;</span>,<span class="s2">&#34;id&#34;</span>:1,<span class="s2">&#34;result&#34;</span>:<span class="o">{</span><span class="s2">&#34;protocolVersion&#34;</span>:<span class="s2">&#34;2024-11-05&#34;</span>,<span class="s2">&#34;capabilities&#34;</span>:<span class="o">{</span><span class="s2">&#34;tools&#34;</span>:<span class="o">{}}</span>,<span class="s2">&#34;serverInfo&#34;</span>:<span class="o">{</span><span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;Demo 🚀&#34;</span>,<span class="s2">&#34;version&#34;</span>:<span class="s2">&#34;1.0.0&#34;</span><span class="o">}}}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>服务器响应了其协议版本、能力和基本信息。</p>
<h4 id="4-获取可用工具" class="heading-element"><span>4. 获取可用工具</span>
  <a href="#4-%e8%8e%b7%e5%8f%96%e5%8f%af%e7%94%a8%e5%b7%a5%e5%85%b7" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>现在我们可以使用 <code>tools/list</code> 方法获取服务器提供的工具列表：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">&gt; curl -X POST --data <span class="s1">&#39;{
</span></span></span><span class="line"><span class="cl"><span class="s1">  &#34;jsonrpc&#34;: &#34;2.0&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s1">  &#34;id&#34;: 1,
</span></span></span><span class="line"><span class="cl"><span class="s1">  &#34;method&#34;: &#34;tools/list&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s1">  &#34;params&#34;:{}
</span></span></span><span class="line"><span class="cl"><span class="s1">}&#39;</span> http://localhost:5568/message?sessionId<span class="o">=</span>05dfc3f8-bc10-42d4-b4fb-1c9de72ed444
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">event: message
</span></span><span class="line"><span class="cl">data: <span class="o">{</span><span class="s2">&#34;jsonrpc&#34;</span>:<span class="s2">&#34;2.0&#34;</span>,<span class="s2">&#34;id&#34;</span>:1,<span class="s2">&#34;result&#34;</span>:<span class="o">{</span><span class="s2">&#34;tools&#34;</span>:<span class="o">[{</span><span class="s2">&#34;annotations&#34;</span>:<span class="o">{</span><span class="s2">&#34;destructiveHint&#34;</span>:true,<span class="s2">&#34;openWorldHint&#34;</span>:true<span class="o">}</span>,<span class="s2">&#34;description&#34;</span>:<span class="s2">&#34;Say hello to someone&#34;</span>,<span class="s2">&#34;inputSchema&#34;</span>:<span class="o">{</span><span class="s2">&#34;properties&#34;</span>:<span class="o">{</span><span class="s2">&#34;name&#34;</span>:<span class="o">{</span><span class="s2">&#34;description&#34;</span>:<span class="s2">&#34;Name of the person to greet&#34;</span>,<span class="s2">&#34;type&#34;</span>:<span class="s2">&#34;string&#34;</span><span class="o">}}</span>,<span class="s2">&#34;required&#34;</span>:<span class="o">[</span><span class="s2">&#34;name&#34;</span><span class="o">]</span>,<span class="s2">&#34;type&#34;</span>:<span class="s2">&#34;object&#34;</span><span class="o">}</span>,<span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;hello_world&#34;</span><span class="o">}]}}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>响应显示服务器提供了一个名为 <code>hello_world</code> 的工具，包含其描述和参数模式。</p>
<h4 id="5-调用工具" class="heading-element"><span>5. 调用工具</span>
  <a href="#5-%e8%b0%83%e7%94%a8%e5%b7%a5%e5%85%b7" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>最后，我们可以使用 <code>tools/call</code> 方法调用 <code>hello_world</code> 工具：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">&gt; curl -X POST --data <span class="s1">&#39;{
</span></span></span><span class="line"><span class="cl"><span class="s1">&#34;jsonrpc&#34;: &#34;2.0&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s1">&#34;id&#34;: 1,
</span></span></span><span class="line"><span class="cl"><span class="s1">&#34;method&#34;: &#34;tools/call&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s1">&#34;params&#34;: {
</span></span></span><span class="line"><span class="cl"><span class="s1">  &#34;name&#34;: &#34;hello_world&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s1">  &#34;arguments&#34;: {
</span></span></span><span class="line"><span class="cl"><span class="s1">    &#34;name&#34;: &#34;kyden&#34;
</span></span></span><span class="line"><span class="cl"><span class="s1">  }
</span></span></span><span class="line"><span class="cl"><span class="s1">}
</span></span></span><span class="line"><span class="cl"><span class="s1">}&#39;</span> http://localhost:5568/message?sessionId<span class="o">=</span>05dfc3f8-bc10-42d4-b4fb-1c9de72ed444
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">event: message
</span></span><span class="line"><span class="cl">data: <span class="o">{</span><span class="s2">&#34;jsonrpc&#34;</span>:<span class="s2">&#34;2.0&#34;</span>,<span class="s2">&#34;id&#34;</span>:1,<span class="s2">&#34;result&#34;</span>:<span class="o">{</span><span class="s2">&#34;content&#34;</span>:<span class="o">[{</span><span class="s2">&#34;type&#34;</span>:<span class="s2">&#34;text&#34;</span>,<span class="s2">&#34;text&#34;</span>:<span class="s2">&#34;Hello, kyden!&#34;</span><span class="o">}]}}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>服务器成功响应并返回了文本“Hello, kyden!”。</p>
<h3 id="关键要点" class="heading-element"><span>关键要点</span>
  <a href="#%e5%85%b3%e9%94%ae%e8%a6%81%e7%82%b9" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>这个简单的示例演示了 MCP 协议的几个关键特性：</p>
<ol>
<li>
<p><strong>多传输方式</strong>：支持不同的通信方式（stdio 和 SSE）</p>
</li>
<li>
<p><strong>生命周期管理</strong>：包含初始化、操作和关闭阶段</p>
</li>
<li>
<p><strong>能力发现</strong>：客户端可以动态发现服务器能力</p>
</li>
<li>
<p><strong>结构化参数</strong>：工具定义了清晰的参数模式</p>
</li>
<li>
<p><strong>JSON-RPC 通信</strong>：使用标准的 JSON-RPC 2.0 协议进行通信</p>
</li>
</ol>
<h3 id="与-vscode-cline-集成" class="heading-element"><span>与 VSCode Cline 集成</span>
  <a href="#%e4%b8%8e-vscode-cline-%e9%9b%86%e6%88%90" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>MCP 协议的一个重要应用场景是与开发环境的集成。Claude 已经在 VSCode 中通过 Cline 插件提供了 MCP 支持，让开发者可以直接在 IDE 中使用自定义的 MCP 服务器。</p>
<h4 id="配置方法" class="heading-element"><span>配置方法</span>
  <a href="#%e9%85%8d%e7%bd%ae%e6%96%b9%e6%b3%95" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>VSCode Cline 插件的 MCP 服务器配置存储在以下路径：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Users/kyden/Library/Application Support/Code/User/globalStorage/saoudrizwan.claude-dev/settings/cline_mcp_settings.json</span></span></code></pre></td></tr></table>
</div>
</div><p>配置文件的格式如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;mcpServers&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;helloWorld&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;command&#34;</span><span class="p">:</span> <span class="s2">&#34;/Users/kyden/git-space/mcp.test/mcptest&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;args&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;env&#34;</span><span class="p">:</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>其中：</p>
<ul>
<li><code>helloWorld</code>：服务器的唯一标识符，将在 VSCode 中显示</li>
<li><code>command</code>：服务器可执行文件的绝对路径</li>
<li><code>args</code>：传递给服务器的命令行参数</li>
<li><code>env</code>：服务器运行时的环境变量</li>
</ul>
<h4 id="使用方法" class="heading-element"><span>使用方法</span>
  <a href="#%e4%bd%bf%e7%94%a8%e6%96%b9%e6%b3%95" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>配置完成后，可以在 VSCode 中通过 Cline 插件直接调用配置的 MCP 服务器：</p>
<ol>
<li>打开 VSCode 的 Cline 面板</li>
<li>在对话中使用 <code>@helloWorld</code> 语法调用服务器</li>
<li>Claude 将自动连接并使用该 MCP 服务器的功能</li>
</ol>
<p>下图展示了 VSCode Cline 中调用 MCP 服务器的示例：</p>
<figure><img src="/posts/MCP/vscode-cline.png"><figcaption>
      <h4>VSCode Cline 中的 MCP 服务器调用</h4>
    </figcaption>
</figure>

<h4 id="应用场景" class="heading-element"><span>应用场景</span>
  <a href="#%e5%ba%94%e7%94%a8%e5%9c%ba%e6%99%af" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><p>在 VSCode 中集成 MCP 服务器有以下几个主要优势：</p>
<ol>
<li>
<p><strong>开发者工具集成</strong>：直接在 IDE 中使用自定义工具</p>
</li>
<li>
<p><strong>上下文感知</strong>：让 AI 能够访问当前项目的上下文和状态</p>
</li>
<li>
<p><strong>专业能力增强</strong>：为 AI 提供项目特定的工具和知识</p>
</li>
<li>
<p><strong>工作流程优化</strong>：简化开发者与 AI 的协作流程</p>
</li>
</ol>
<h2 id="总结与展望" class="heading-element"><span>总结与展望</span>
  <a href="#%e6%80%bb%e7%bb%93%e4%b8%8e%e5%b1%95%e6%9c%9b" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>Model Context Protocol (MCP) 作为一种新兴的 AI 能力扩展协议，正在开启 AI 应用的新纪元。通过本文的探讨，我们可以看到 MCP 在以下几个方面的关键价值：</p>
<h3 id="mcp-的价值" class="heading-element"><span>MCP 的价值</span>
  <a href="#mcp-%e7%9a%84%e4%bb%b7%e5%80%bc" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ol>
<li>
<p><strong>打破能力封闭</strong>：通过标准化的接口，允许 AI 模型与各种外部服务和资源交互</p>
</li>
<li>
<p><strong>解决知识时效性</strong>：让 AI 模型能够访问最新的信息和数据</p>
</li>
<li>
<p><strong>增强专业能力</strong>：通过专用工具和资源，提升 AI 在特定领域的能力</p>
</li>
<li>
<p><strong>优化资源利用</strong>：将复杂计算和处理任务分流到专用服务</p>
</li>
<li>
<p><strong>保障隐私与安全</strong>：提供受控的数据访问机制</p>
</li>
</ol>
<h3 id="未来展望" class="heading-element"><span>未来展望</span>
  <a href="#%e6%9c%aa%e6%9d%a5%e5%b1%95%e6%9c%9b" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>MCP 协议仍处于早期发展阶段，但其潜力已经显现。随着生态系统的成熟，我们可以期待以下发展：</p>
<ol>
<li>
<p><strong>更多标准化工具</strong>：各领域将开发专用的 MCP 服务器和工具</p>
</li>
<li>
<p><strong>深度集成</strong>：与开发环境、生产系统和云服务的更深入集成</p>
</li>
<li>
<p><strong>多模型协作</strong>：促进不同 AI 模型之间的协作和专业能力共享</p>
</li>
<li>
<p><strong>社区生态系统</strong>：形成开源的 MCP 工具和服务市场</p>
</li>
</ol>
<p>随着 MCP 协议的发展，我们有理由相信，它将成为推动 AI 能力扩展和集成的关键标准，为构建更智能、更开放的 AI 生态系统铺平道路。</p>
<h2 id="参考资料" class="heading-element"><span>参考资料</span>
  <a href="#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><ul>
<li><a href="https://modelcontextprotocol.io/introduction"target="_blank" rel="external nofollow noopener noreferrer">MCP 官方介绍<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a></li>
<li><a href="https://modelcontextprotocol.io/specification"target="_blank" rel="external nofollow noopener noreferrer">MCP 规范文档<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a></li>
<li><a href="https://www.anthropic.com/news/model-context-protocol"target="_blank" rel="external nofollow noopener noreferrer">Anthropic 关于 MCP 的公告<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a></li>
<li><a href="https://pkg.go.dev/net/rpc/jsonrpc"target="_blank" rel="external nofollow noopener noreferrer">Golang 中的内建 JSON-RPC<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a></li>
<li><a href="https://github.com/modelcontextprotocol/inspector"target="_blank" rel="external nofollow noopener noreferrer">Server Inspector 工具<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a></li>
<li><a href="https://github.com/mark3labs/mcp-go"target="_blank" rel="external nofollow noopener noreferrer">MCP Go 客户端库<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a></li>
</ul></div><hr class="awesome-hr" />
    <h2 id="see-also">Related Content</h2>
    <ul><li>
          <a href="/posts/go-viper/" title="Go 配置管理最佳实践：Viper 从入门到精通">Go 配置管理最佳实践：Viper 从入门到精通</a></li><li>
          <a href="/posts/make/" title="Make 构建系统详解：从基础到实战">Make 构建系统详解：从基础到实战</a></li><li>
          <a href="/posts/vscode-vim/" title="【最佳实践】VSCode &#43; Vim = 效率之神">【最佳实践】VSCode &#43; Vim = 效率之神</a></li><li>
          <a href="/posts/design-pattern/" title="设计模式精讲：从理论到实战的最佳实践指南">设计模式精讲：从理论到实战的最佳实践指南</a></li><li>
          <a href="/posts/golang-linter/" title="Go 代码质量守护者：12 个必备 Linter 工具完全指南">Go 代码质量守护者：12 个必备 Linter 工具完全指南</a></li></ul><div class="post-footer" id="post-footer">
  <div class="post-info">
    <div class="post-info-line">
      <div class="post-info-mod">
        <span title="Updated on 2025-04-29 15:16:47">Updated on 2025-04-29&nbsp;</span>
      </div></div><div class="post-info-line">
        <div class="post-info-md"><span><a href="/posts/model-context-protocol/index.md" title="Read Markdown" class="link-to-markdown">Read Markdown</a></span><span><a href="https://github.com/kydance/kydance.github.io/blob/master/content/posts/MCP/MCP.md?plain=1" title="View source"target="_blank" rel="external nofollow noopener noreferrer" class="link-to-source">View source</a></span><span><a href="https://github.com/kydance/kydance.github.io/edit/master/content/posts/MCP/MCP.md" title="Edit this page"target="_blank" rel="external nofollow noopener noreferrer" class="link-to-edit">Edit this page</a></span><span><a href="https://github.com/kydance/kydance.github.io/issues/new?title=[BUG]%20Model&#43;Context&#43;Protocol&#43;%28MCP%29%3A&#43;%E6%89%A9%E5%B1%95&#43;AI&#43;%E8%83%BD%E5%8A%9B%E7%9A%84%E6%96%B0%E8%8C%83%E5%BC%8F&amp;body=%7cField%7cValue%7c%0A%7c-%7c-%7c%0A%7cTitle%7cModel&#43;Context&#43;Protocol&#43;%28MCP%29%3A&#43;%E6%89%A9%E5%B1%95&#43;AI&#43;%E8%83%BD%E5%8A%9B%E7%9A%84%E6%96%B0%E8%8C%83%E5%BC%8F%7c%0A%7cURL%7chttp://kydance.github.io/posts/model-context-protocol/%7c%0A%7cFilename%7chttps://github.com/kydance/kydance.github.io/blob/master/content/posts/MCP/MCP.md?plain=1%7c" title="Report issue"target="_blank" rel="external nofollow noopener noreferrer" class="link-to-report">Report issue</a></span></div>
        <div class="post-info-share">
          <span><a href="javascript:void(0);" title="Share on X" data-sharer="twitter" data-url="http://kydance.github.io/posts/model-context-protocol/" data-title="Model Context Protocol (MCP): 扩展 AI 能力的新范式" data-via="kytedance" data-hashtags="AI,MCP,协议,开发工具"><i class="fa-brands fa-x-twitter fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="http://kydance.github.io/posts/model-context-protocol/" data-hashtag="AI"><i class="fa-brands fa-facebook-square fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="Share on Linkedin" data-sharer="linkedin" data-url="http://kydance.github.io/posts/model-context-protocol/"><i class="fa-brands fa-linkedin fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="Share on WhatsApp" data-sharer="whatsapp" data-url="http://kydance.github.io/posts/model-context-protocol/" data-title="Model Context Protocol (MCP): 扩展 AI 能力的新范式" data-web><i class="fa-brands fa-whatsapp fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="Share on Reddit" data-sharer="reddit" data-url="http://kydance.github.io/posts/model-context-protocol/"><i class="fa-brands fa-reddit fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="http://kydance.github.io/posts/model-context-protocol/" data-title="Model Context Protocol (MCP): 扩展 AI 能力的新范式"><svg class="icon" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LINE</title><path d="M19.365 9.863c.349.0.63.285.63.631.0.345-.281.63-.63.63H17.61v1.125h1.755c.349.0.63.283.63.63.0.344-.281.629-.63.629h-2.386c-.345.0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.346.0.627.285.627.63.0.349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211.0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346.0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195.0.375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345.0.63.285.63.63v4.771zm-5.741.0c0 .344-.282.629-.631.629-.345.0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63.346.0.628.285.628.63v4.771zm-2.466.629H4.917c-.345.0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348.0.63.285.63.63v4.141h1.756c.348.0.629.283.629.63.0.344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943.0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"/></svg></a>
  <a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="http://kydance.github.io/posts/model-context-protocol/" data-title="Model Context Protocol (MCP): 扩展 AI 能力的新范式"><i class="fa-brands fa-weibo fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="Share on Blogger" data-sharer="blogger" data-url="http://kydance.github.io/posts/model-context-protocol/" data-title="Model Context Protocol (MCP): 扩展 AI 能力的新范式" data-description="深入探索 Anthropic 提出的 Model Context Protocol (MCP)，了解其如何连接 AI 模型与各类专业工具、知识库和计算资源，实现 AI 能力的弹性扩展。"><i class="fa-brands fa-blogger fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="Share on 百度" data-sharer="baidu" data-url="http://kydance.github.io/posts/model-context-protocol/" data-title="Model Context Protocol (MCP): 扩展 AI 能力的新范式"><svg class="icon" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Baidu</title><path d="M9.154.0C7.71.0 6.54 1.658 6.54 3.707c0 2.051 1.171 3.71 2.615 3.71 1.446.0 2.614-1.659 2.614-3.71C11.768 1.658 10.6.0 9.154.0zm7.025.594C14.86.58 13.347 2.589 13.2 3.927c-.187 1.745.25 3.487 2.179 3.735 1.933.25 3.175-1.806 3.422-3.364.252-1.555-.995-3.364-2.362-3.674a1.218 1.218.0 00-.261-.03zM3.582 5.535a2.811 2.811.0 00-.156.008c-2.118.19-2.428 3.24-2.428 3.24-.287 1.41.686 4.425 3.297 3.864 2.617-.561 2.262-3.68 2.183-4.362-.125-1.018-1.292-2.773-2.896-2.75zm16.534 1.753c-2.308.0-2.617 2.119-2.617 3.616.0 1.43.121 3.425 2.988 3.362s2.553-3.238 2.553-3.988c0-.745-.62-2.99-2.924-2.99zm-8.264 2.478c-1.424.014-2.708.925-3.323 1.947-1.118 1.868-2.863 3.05-3.112 3.363-.25.309-3.61 2.116-2.864 5.42.746 3.301 3.365 3.237 3.365 3.237s1.93.19 4.171-.31c2.24-.495 4.17.123 4.17.123s5.233 1.748 6.665-1.616c1.43-3.364-.808-5.109-.808-5.109s-2.99-2.306-4.736-4.798c-1.072-1.665-2.348-2.268-3.528-2.257zm-2.234 3.84 1.542.024v8.197H7.758c-1.47-.291-2.055-1.292-2.13-1.462-.072-.173-.488-.976-.268-2.343.635-2.049 2.447-2.196 2.447-2.196h1.81zm3.964 2.39v3.881c.096.413.612.488.612.488h1.614v-4.343h1.689v5.782h-3.915c-1.517-.39-1.59-1.465-1.59-1.465v-4.317zm-5.458 1.147c-.66.197-.978.708-1.05.928-.076.22-.247.78-.1 1.269.294 1.095 1.248 1.144 1.248 1.144h1.37v-3.34z"/></svg></a>
  <a href="javascript:void(0);" title="Share on OK.RU" data-sharer="okru" data-url="http://kydance.github.io/posts/model-context-protocol/" data-title="Model Context Protocol (MCP): 扩展 AI 能力的新范式"><i class="fa-brands fa-odnoklassniki fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="Share on Evernote" data-sharer="evernote" data-url="http://kydance.github.io/posts/model-context-protocol/" data-title="Model Context Protocol (MCP): 扩展 AI 能力的新范式"><i class="fa-brands fa-evernote fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="Share on Skype" data-sharer="skype" data-url="http://kydance.github.io/posts/model-context-protocol/" data-title="Model Context Protocol (MCP): 扩展 AI 能力的新范式"><i class="fa-brands fa-skype fa-fw" aria-hidden="true"></i></a>
  </span>
        </div>
      </div></div>

  <div class="post-info-more">
    <section class="post-tags"><i class="fa-solid fa-tags fa-fw me-1" aria-hidden="true"></i><a href="/tags/ai/" class="post-tag" title="Tags - AI">AI</a><a href="/tags/mcp/" class="post-tag" title="Tags - MCP">MCP</a><a href="/tags/%E5%8D%8F%E8%AE%AE/" class="post-tag" title="Tags - 协议">协议</a><a href="/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" class="post-tag" title="Tags - 开发工具">开发工具</a></section>
    <section>
      <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
    </section>
  </div><div class="post-nav"><a href="/posts/033530b/" class="post-nav-item" rel="prev" title="使用 FFmpeg 转换哔哩哔哩缓存视频为 MP4 格式"><i class="fa-solid fa-angle-left fa-fw" aria-hidden="true"></i>使用 FFmpeg 转换哔哩哔哩缓存视频为 MP4 格式</a></div>
</div>
<div class="post-reward">
    <div class="comment">buy me a coffee</div>
    <input type="checkbox" class="reward-input" name="reward" id="fi-reward" hidden />
    <label class="reward-button" for="fi-reward"><i class="fa-solid fa-qrcode fa-fw" aria-hidden="true"></i>Donate</label>
    <div class="reward-ways" data-mode="static"><div><img src='/alipay.jpg' alt="kyden Alipay"><span data-animation>Alipay</span>
          </div><div><img src='/wechatpay.jpg' alt="kyden WeChat Pay"><span data-animation>WeChat Pay</span>
          </div></div>
  </div><div id="comments"><div id="gitalk" class="comment"></div><noscript>
        Please enable JavaScript to view the comments powered by <a href="https://github.com/gitalk/gitalk" rel="external nofollow noopener noreferrer">Gitalk</a>.
      </noscript></div></article>

  <aside class="toc" id="toc-auto" aria-label="Contents"><h2 class="toc-title">Contents&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden="true"></i></h2>
      <div class="toc-content" id="toc-content-auto"></div></aside></main><footer class="footer">
    <div class="footer-container"><div class="footer-line powered order-1">Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow noopener noreferrer" title="Hugo 0.147.5"><img class="hugo-icon" src="/images/hugo.min.svg" alt="Hugo logo" /> Hugo</a> | Theme - <a href="https://github.com/hugo-fixit/FixIt" target="_blank" rel="external" title="FixIt v0.3.19"><img class="fixit-icon" src="/images/fixit.min.svg" alt="FixIt logo" /> FixIt</a>
        </div><div class="footer-line copyright" itemscope itemtype="http://schema.org/CreativeWork"><i class="fa-regular fa-copyright fa-fw" aria-hidden="true"></i>
            <span itemprop="copyrightYear">2024 - 2025</span><span class="author" itemprop="copyrightHolder">
              <a href="/">kyden</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a></span></div><div class="footer-line statistics order-2"><span class="site-time" title='Website running ...'><i class="fa-solid fa-heartbeat fa-fw animate-icon" aria-hidden="true"></i><span class="ms-1 d-none">时光荏苒，本站已陪伴您</span><span class="run-times ms-1">Website running ...</span></span></div><div class="footer-line visitor order-3">
          <span id="busuanzi_container_site_uv" title='Total visitors'><i class="fa-regular fa-user fa-fw me-1" aria-hidden="true"></i><span id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span></span><span id="busuanzi_container_site_pv" class="footer-divider" title='Total visits'><i class="fa-regular fa-eye fa-fw me-1" aria-hidden="true"></i><span id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span></span>
        </div></div>
  </footer></div><div class="widgets"><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role="button" aria-label="Back to Top"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden="true"></i><span class="variant-numeric d-none">0%</span>
        </div><div class="fixed-button view-comments d-none" role="button" aria-label="View Comments"><i class="fa-solid fa-comment fa-fw" aria-hidden="true"></i></div></div><a href="https://github.com/kydance" title="Find More on GitHub"target="_blank" rel="external nofollow" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true" width="56" height="56"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><div id="mask"></div><div class="reading-progress-bar" style="left: 0;top: 0;--progress-h: 3px;"></div><noscript>
    <div class="noscript-warning">This website works best with JavaScript enabled.</div>
  </noscript>
</div><link rel="stylesheet" href="/lib/gitalk/gitalk.min.f53984858b1cd3d5ec3cd536bb12d27c2f1f801a1e60246147616200b38dc5d0.css" integrity="sha256-9TmEhYsc09XsPNU2uxLSfC8fgBoeYCRhR2FiALONxdA="><link rel="stylesheet" href="/lib/lightgallery/css/lightgallery-bundle.min.120f067ebd6f322339e2ccccd7e87e334d7c7ea5b2bd553f325f2ae3c3ae6fe8.css" integrity="sha256-Eg8Gfr1vMiM54szM1+h+M018fqWyvVU/Ml8q48Oub+g="><link rel="preload" href="/lib/katex/katex.min.7e5db7914b97e596a36c1abb67ccc7f174f8bb71d38c9a88c55b262ed1737f97.css" integrity="sha256-fl23kUuX5ZajbBq7Z8zH8XT4u3HTjJqIxVsmLtFzf5c=" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/katex/katex.min.7e5db7914b97e596a36c1abb67ccc7f174f8bb71d38c9a88c55b262ed1737f97.css" integrity="sha256-fl23kUuX5ZajbBq7Z8zH8XT4u3HTjJqIxVsmLtFzf5c="></noscript><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.cd0d0b6e50ff01ff2f3a9a70d7cfb66a7c6cb9acf7a566325568be6d3bd31fc4.css" integrity="sha256-zQ0LblD/Af8vOppw18+2anxsuaz3pWYyVWi+bTvTH8Q="><script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.js?features=Array.prototype.fill%2CArray.prototype.find%2CArray.from%2CIntersectionObserver%2CMath.sign%2CObject.assign%2CPromise%2CObject.entries%2Chtml5shiv%2CObject.values%2Cfetch%2CElement.prototype.after"></script><script src="/lib/object-fit-images/ofi.min.37217cfedb39356d2a0fd317e4a8ee87d225f4364e3afc7473ab5a8e7d97ec64.js" integrity="sha256-NyF8/ts5NW0qD9MX5Kjuh9Il9DZOOvx0c6tajn2X7GQ="></script><script src="/lib/gitalk/gitalk.min.f4f9407ea35ccf4be5019cc41d70eab1eb273941bca01b3a93c91201f195a76f.js" integrity="sha256-9PlAfqNcz0vlAZzEHXDqsesnOUG8oBs6k8kSAfGVp28="></script><script src="/lib/autocomplete/autocomplete.min.ae2da1bd62c6469ee27770ad1cddf2e8296d8a7f6d85b091463e5200c5e320af.js" integrity="sha256-ri2hvWLGRp7id3CtHN3y6Cltin9thbCRRj5SAMXjIK8=" defer></script><script src="/lib/fuse/fuse.min.c57339c3fa16b1d69d9a6b46749a8139ef8d4fc9bbfe48144ff897aa7d4222ec.js" integrity="sha256-xXM5w/oWsdadmmtGdJqBOe+NT8m7/kgUT/iXqn1CIuw=" defer></script><script src="/lib/instant-page/instantpage.min.bc8a5bcfe544a20a5c828b78f4fd31448f0f84683487ff8cae29c51834841f11.js" integrity="sha256-vIpbz+VEogpcgot49P0xRI8PhGg0h/+MrinFGDSEHxE=" async defer type="module"></script><script src="/lib/twemoji/twemoji.min.706224d8dc5440460f8ed91c1a6aad25d732af6e0ee6fb31151b157ab485babb.js" integrity="sha256-cGIk2NxUQEYPjtkcGmqtJdcyr24O5vsxFRsVerSFurs=" defer></script><script src="/lib/lightgallery/lightgallery.min.7de2854e7954105f2b91ff5983749c4e3c7af51e05aae279f8a5d66994a85777.js" integrity="sha256-feKFTnlUEF8rkf9Zg3ScTjx69R4FquJ5+KXWaZSoV3c=" defer></script><script src="/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.4fbc3ec1878e90348b71b3594d8ef27c4f10a1a4c6d5e74948d0ee59018fd87c.js" integrity="sha256-T7w+wYeOkDSLcbNZTY7yfE8QoaTG1edJSNDuWQGP2Hw=" defer></script><script src="/lib/lightgallery/plugins/zoom/lg-zoom.min.821a2adb8005511c0ad9ef6f395c1b74beacc2da194cd13a4ac43d341246e085.js" integrity="sha256-ghoq24AFURwK2e9vOVwbdL6swtoZTNE6SsQ9NBJG4IU=" defer></script><script src="/lib/sharer/sharer.min.ba5171a78670b031914e623431a33a3d73c1ea9897e552ba73bc2c2da7c777b9.js" integrity="sha256-ulFxp4ZwsDGRTmI0MaM6PXPB6piX5VK6c7wsLafHd7k=" async defer></script><script src="/lib/katex/katex.min.9f45307c5794ed247a0d095f3a62e52ef2215a67b2327203a7fd919959ae79d1.js" integrity="sha256-n0UwfFeU7SR6DQlfOmLlLvIhWmeyMnIDp/2RmVmuedE=" defer></script><script src="/lib/katex/auto-render.min.7b57d427ac6270677daf8d8380ded2cc73336f9149a167b8e1fe0d6ef66604ae.js" integrity="sha256-e1fUJ6xicGd9r42DgN7SzHMzb5FJoWe44f4NbvZmBK4=" defer></script><script src="/lib/katex/mhchem.min.f0ca03df194b8c3d6017ff455db6a0ef98857905663fa311a6cded788b15340b.js" integrity="sha256-8MoD3xlLjD1gF/9FXbag75iFeQVmP6MRps3teIsVNAs=" defer></script><script src="/lib/cookieconsent/cookieconsent.min.e55842a856a6d829feca3c3ad736c136b6c7549e9247274f78aa296259e06e24.js" integrity="sha256-5VhCqFam2Cn+yjw61zbBNrbHVJ6SRydPeKopYlngbiQ=" defer></script><script src="/lib/pangu/pangu.min.8feca3e7a71d118d82c2456d1b2cf5f1f3726c51a930627c2711b7192c8edbe2.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" defer></script><script src="https://vercount.one/js" async defer></script><script>window.config={"autoBookmark":true,"code":{"copyTitle":"Copy to clipboard","editLockTitle":"Lock editable code block","editUnLockTitle":"Unlock editable code block","editable":true,"maxShownLines":15},"comment":{"enable":true,"expired":false,"gitalk":{"admin":["kydance"],"clientID":"Ov23likvuyngmRCWd1hP","clientSecret":"16163c8f0ebfca715063d177b08df64f405da1db","id":"2025-04-29T15:16:47+08:00","owner":"kydance","repo":"gitalk","title":"Model Context Protocol (MCP): 扩展 AI 能力的新范式"}},"cookieconsent":{"content":{"dismiss":"Got it!","link":"Learn more","message":"This website uses Cookies to improve your experience."},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"enablePWA":true,"lightgallery":true,"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"pangu":{"enable":true,"selector":"article"},"search":{"distance":100,"findAllMatches":false,"fuseIndexURL":"/search.json","highlightTag":"em","ignoreFieldNorm":false,"ignoreLocation":false,"isCaseSensitive":false,"location":0,"maxResultLength":10,"minMatchCharLength":2,"noResultsFound":"No results found","snippetLength":30,"threshold":0.3,"type":"fuse","useExtendedSearch":false},"siteTime":"2024-04-18T12:57:02+08:00","twemoji":true,"version":"v0.3.19"};</script><script src="/js/theme.min.35b6f4afbf1ccdfb8c4a1b50864d7544a53f6eb1450e8870ce1f94283060a907.js" integrity="sha256-Nbb0r78czfuMShtQhk11RKU/brFFDohwzh+UKDBgqQc=" defer></script><script>
      window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
      gtag('config', 'G-V489XWCR7P', { 'anonymize_ip': true });
    </script><script src="https://www.googletagmanager.com/gtag/js?id=G-V489XWCR7P" async></script></body>
</html>
