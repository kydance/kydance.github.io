<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1070px" preserveAspectRatio="none" style="width:645px;height:1070px;" version="1.1" viewBox="0 0 645 1070" width="645px" zoomAndPan="magnify"><defs><filter height="300%" id="fdgz1n9vadexp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[03c2ecdfa11f70b38eb496afaf3adc6b]
cluster services--><polygon fill="#FFFFFF" filter="url(#fdgz1n9vadexp)" points="16,6,89,6,96,28.2969,628,28.2969,628,1063.67,16,1063.67,16,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="96" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="67" x="20" y="20.9951">services</text><!--MD5=[ae2b06e10cf219aa04ed28953efbad75]
class services.DjcBaseService--><rect codeLine="2" fill="#FEFECE" filter="url(#fdgz1n9vadexp)" height="316.8984" id="services.DjcBaseService" style="stroke:#A80036;stroke-width:1.5;" width="396" x="64" y="174.61"/><ellipse cx="210.25" cy="190.61" fill="#7FFFD4" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M209.7344,191.1725 Q207.875,190.4694 207.2188,189.7038 Q206.5781,188.9225 206.5781,187.61 Q206.5781,185.9225 207.6563,184.9538 Q208.7344,183.985 210.6094,183.985 Q211.4688,183.985 212.3125,184.1881 Q213.1719,184.3756 214.0156,184.7663 L214.0156,187.1569 Q213.2344,186.5944 212.4063,186.3131 Q211.5938,186.0163 210.7969,186.0163 Q209.9219,186.0163 209.4375,186.3756 Q208.9688,186.735 208.9688,187.3913 Q208.9688,187.9069 209.3125,188.2506 Q209.6563,188.5788 210.75,188.985 L211.8125,189.3913 Q213.2969,189.9381 214,190.8444 Q214.7188,191.7506 214.7188,193.1256 Q214.7188,195.0006 213.6094,195.9225 Q212.5,196.8444 210.25,196.8444 Q209.3281,196.8444 208.4063,196.6256 Q207.4844,196.4069 206.625,195.985 L206.625,193.4538 Q207.5938,194.1413 208.5156,194.485 Q209.4375,194.8288 210.3281,194.8288 Q211.2344,194.8288 211.7344,194.4225 Q212.2344,194.0006 212.2344,193.2663 Q212.2344,192.7038 211.8906,192.2975 Q211.5625,191.8756 210.9375,191.6256 L209.7344,191.1725 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="95" x="230.75" y="194.7643">DjcBaseService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="65" x2="459" y1="206.61" y2="206.61"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="72" y="214.61"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="64" x="84" y="220.8204">errCode int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="72" y="227.4147"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="84" y="233.6251">errMsg string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="72" y="240.2194"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="84" y="246.4298">errInfo string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="72" y="253.0241"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="17" x="84" y="259.2345">ext</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="25" x="105" y="259.2345">map</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="130" y="259.2345">[string]string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="72" y="265.8288"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="84" y="272.0392">appID int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="72" y="278.6334"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="84" y="284.8439">plugID int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="72" y="291.4381"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="81" x="84" y="297.6486">bizCode string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="72" y="304.2428"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="54" x="84" y="310.4533">uid string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="72" y="317.0475"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="84" y="323.2579">uin uint64</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="72" y="329.8522"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="84" y="336.0626">zoneID int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="72" y="342.6569"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="70" x="84" y="348.8673">roleID string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="72" y="355.4616"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="39" x="84" y="361.672">plat int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="72" y="368.2663"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="76" x="84" y="374.4767">partitionID int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="72" y="381.0709"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="63" x="84" y="387.2814">actionID int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="72" y="393.8756"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="64" x="84" y="400.0861">goodsID int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="72" y="406.6803"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="84" y="412.8908">eventID string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="72" y="419.485"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="84" y="425.6954">param string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="72" y="432.2897"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="84" y="438.5001">module string</text><line style="stroke:#A80036;stroke-width:1.5;" x1="65" x2="459" y1="445.0944" y2="445.0944"/><ellipse cx="75" cy="456.0944" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="45" x="84" y="459.3048">GetExt()</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="25" x="133" y="459.3048">map</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="158" y="459.3048">[string]string</text><ellipse cx="75" cy="468.8991" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="370" x="84" y="472.1095">Process( string,  string,  *param.QueryParam) (int, string, error)</text><ellipse cx="75" cy="481.7038" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="219" x="84" y="484.9142">CheckParam( *param.QueryParam) int</text><!--MD5=[13c2aee805caedadd2beab1a4be9f82e]
class services.DjcRuleService--><rect codeLine="27" fill="#FEFECE" filter="url(#fdgz1n9vadexp)" height="496.1641" id="services.DjcRuleService" style="stroke:#A80036;stroke-width:1.5;" width="524" x="60" y="551.51"/><ellipse cx="272.25" cy="567.51" fill="#7FFFD4" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M271.7344,568.0725 Q269.875,567.3694 269.2188,566.6038 Q268.5781,565.8225 268.5781,564.51 Q268.5781,562.8225 269.6563,561.8538 Q270.7344,560.885 272.6094,560.885 Q273.4688,560.885 274.3125,561.0881 Q275.1719,561.2756 276.0156,561.6663 L276.0156,564.0569 Q275.2344,563.4944 274.4063,563.2131 Q273.5938,562.9163 272.7969,562.9163 Q271.9219,562.9163 271.4375,563.2756 Q270.9688,563.635 270.9688,564.2913 Q270.9688,564.8069 271.3125,565.1506 Q271.6563,565.4788 272.75,565.885 L273.8125,566.2913 Q275.2969,566.8381 276,567.7444 Q276.7188,568.6506 276.7188,570.0256 Q276.7188,571.9006 275.6094,572.8225 Q274.5,573.7444 272.25,573.7444 Q271.3281,573.7444 270.4063,573.5256 Q269.4844,573.3069 268.625,572.885 L268.625,570.3538 Q269.5938,571.0413 270.5156,571.385 Q271.4375,571.7288 272.3281,571.7288 Q273.2344,571.7288 273.7344,571.3225 Q274.2344,570.9006 274.2344,570.1663 Q274.2344,569.6038 273.8906,569.1975 Q273.5625,568.7756 272.9375,568.5256 L271.7344,568.0725 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="91" x="292.75" y="571.6643">DjcRuleService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="61" x2="583" y1="583.51" y2="583.51"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="591.51"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="80" y="597.7204">appID int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="604.3147"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="81" x="80" y="610.5251">bizCode string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="617.1194"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="54" x="80" y="623.3298">uid string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="629.9241"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="80" y="636.1345">uin uint64</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="642.7288"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="80" y="648.9392">zoneID int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="655.5334"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="81" x="80" y="661.7439">friendZone int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="668.3381"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="70" x="80" y="674.5486">roleID string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="681.1428"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="95" x="80" y="687.3533">newRoleID string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="693.9475"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="92" x="80" y="700.1579">roleName string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="706.7522"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="39" x="80" y="712.9626">plat int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="719.5569"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="76" x="80" y="725.7673">partitionID int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="732.3616"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="80" y="738.572">dcArea int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="745.1663"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="95" x="80" y="751.3767">serialNum string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="757.9709"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="83" x="80" y="764.1814">accType string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="770.7756"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="92" x="80" y="776.9861">goodsList string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="783.5803"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="80" y="789.7908">eventID string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="796.385"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="80" y="802.5954">userIP string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="809.1897"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="81" x="80" y="815.4001">params string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="821.9944"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="86" x="80" y="828.2048">ruleType string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="834.7991"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="78" x="80" y="841.0095">idipInfo string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="847.6038"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="80" y="853.8142">cookie string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="860.4084"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="95" x="80" y="866.6189">configTips string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="873.2131"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="80" y="879.4236">rt *djruntime.Runtime</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="886.0178"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="103" x="80" y="892.2283">checker rule.Ruler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="61" x2="583" y1="898.8225" y2="898.8225"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="906.8225"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="273" x="80" y="913.0329">ruleCheck(queryParam *param.QueryParam) int</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="919.6272"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="251" x="80" y="925.8376">getLuckyInfo(param string, cookie string) int</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="932.4319"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="265" x="80" y="938.6423">getDcLuckyInfo(param string, cookie string) int</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="945.2366"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="224" x="80" y="951.447">checkMustField(sTempParam string) int</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="958.0413"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="80" y="964.2517">createRule(mParam</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="25" x="196" y="964.2517">map</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="169" x="221" y="964.2517">[string]any) (rule.Ruler, error)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="970.8459"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="80" y="977.0564">setTips(mParam</text><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="25" x="178" y="977.0564">map</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="291" x="203" y="977.0564">[string]any, pRule rule.Ruler, sGoodsName *string)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="68" y="983.6506"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="366" x="80" y="989.8611">handleRule(ruleConfig *param.InnerRuleConfig, goods string) int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="84" y="1002.6658"/><ellipse cx="71" cy="1012.26" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="498" x="80" y="1015.4704">Process(reqURI string, cookie string, qryParam *param.QueryParam) (int, string, error)</text><ellipse cx="71" cy="1025.0647" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="275" x="80" y="1028.2751">CheckParam(reqParam *param.QueryParam) int</text><ellipse cx="71" cy="1037.8694" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="398" x="80" y="1041.0798">ShowMsg(errCode int, errMsg string, errInfo string, idipinfo string) int</text><!--MD5=[d1c0224e468d616b54aad412d7126595]
class services.Servicer--><rect codeLine="66" fill="#FEFECE" filter="url(#fdgz1n9vadexp)" height="73.6094" id="services.Servicer" style="stroke:#A80036;stroke-width:1.5;" width="581" x="31.5" y="41"/><ellipse cx="292.75" cy="57" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M288.6719,52.7656 L288.6719,50.6094 L296.0625,50.6094 L296.0625,52.7656 L293.5938,52.7656 L293.5938,60.8438 L296.0625,60.8438 L296.0625,63 L288.6719,63 L288.6719,60.8438 L291.1406,60.8438 L291.1406,52.7656 L288.6719,52.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="50" x="313.25" y="61.1543">Servicer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="32.5" x2="611.5" y1="73" y2="73"/><line style="stroke:#A80036;stroke-width:1.5;" x1="32.5" x2="611.5" y1="81" y2="81"/><ellipse cx="42.5" cy="92" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="555" x="51.5" y="95.2104">Process(sRequestURI string, sCookie string, queryParam *param.QueryParam) (int, string, error)</text><ellipse cx="42.5" cy="104.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="219" x="51.5" y="108.0151">CheckParam( *param.QueryParam) int</text><!--MD5=[4d29c3bcd55fff32a28eaaf1e6fe9f99]
reverse link services.DjcBaseService to services.DjcRuleService--><path codeLine="72" d="M284.21,506.05 C286.13,520.85 288.08,536 290.05,551.24 " fill="none" id="services.DjcBaseService-backto-services.DjcRuleService" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="282.59,493.48,279.3871,499.9408,284.119,505.3822,287.3219,498.9214,282.59,493.48" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8b252bafb53eb2e42f9543ed408f739c]
reverse link services.Servicer to services.DjcBaseService--><path codeLine="74" d="M308.54,135.63 C305.72,147.5 302.63,160.55 299.42,174.12 " fill="none" id="services.Servicer-backto-services.DjcBaseService" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="301.63,134.41,313.05,116.56,315.26,137.64,301.63,134.41" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[da244440c79551fc655550e33de9f7e2]
reverse link services.Servicer to services.DjcRuleService--><path codeLine="75" d="M432.41,126.44 C450.69,139.36 467.18,155.27 478,174.61 C546.76,297.53 510.8,354.53 478,491.51 C473.23,511.42 466.95,531.51 459.64,551.36 " fill="none" id="services.Servicer-backto-services.DjcRuleService" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="428.81,132.45,415.74,115.78,436.36,120.66,428.81,132.45" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1c71099dec2a6b6896ba67a6e9a7f503]
@startuml class-Services.v2
namespace services {
    class DjcBaseService << (S,Aquamarine) >> {
        - errCode int
        - errMsg string
        - errInfo string
        - ext <font color=blue>map</font>[string]string
        - appID int
        - plugID int
        - bizCode string
        - uid string
        - uin uint64
        - zoneID int
        - roleID string
        - plat int
        - partitionID int
        - actionID int
        - goodsID int
        - eventID string
        - param string
        - module string

        + GetExt() <font color=blue>map</font>[string]string
        + Process( string,  string,  *param.QueryParam) (int, string, error)
        + CheckParam( *param.QueryParam) int

    }
    class DjcRuleService << (S,Aquamarine) >> {
        - appID int
        - bizCode string
        - uid string
        - uin uint64
        - zoneID int
        - friendZone int
        - roleID string
        - newRoleID string
        - roleName string
        - plat int
        - partitionID int
        - dcArea int
        - serialNum string
        - accType string
        - goodsList string
        - eventID string
        - userIP string
        - params string
        - ruleType string
        - idipInfo string
        - cookie string
        - configTips string
        - rt *djruntime.Runtime
        - checker rule.Ruler

        - ruleCheck(queryParam *param.QueryParam) int
        - getLuckyInfo(param string, cookie string) int
        - getDcLuckyInfo(param string, cookie string) int
        - checkMustField(sTempParam string) int
        - createRule(mParam <font color=blue>map</font>[string]any) (rule.Ruler, error)
        - setTips(mParam <font color=blue>map</font>[string]any, pRule rule.Ruler, sGoodsName *string) 
        - handleRule(ruleConfig *param.InnerRuleConfig, goods string) int

        + Process(reqURI string, cookie string, qryParam *param.QueryParam) (int, string, error)
        + CheckParam(reqParam *param.QueryParam) int
        + ShowMsg(errCode int, errMsg string, errInfo string, idipinfo string) int

    }
    interface Servicer  {
        + Process(sRequestURI string, sCookie string, queryParam *param.QueryParam) (int, string, error)
        + CheckParam( *param.QueryParam) int

    }
}
"services.DjcBaseService" *- - "services.DjcRuleService"

"services.Servicer" <|- - "services.DjcBaseService"
"services.Servicer" <|- - "services.DjcRuleService"
@enduml

PlantUML version 1.2021.00(Sun Jan 10 18:25:05 GMT+08:00 2021)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>