{"version":3,"sources":["file:///Users/kyden/git-space/kyden.blog/assets/js/theme.js"],"sourcesContent":["export default class Util {\n  forEach(elements, handler) {\n    elements = elements || [];\n    for (let i = 0; i \u003c elements.length; i++) {\n      handler(elements[i]);\n    }\n  }\n\n  getScrollTop() {\n    return (document.documentElement ?? document.body).scrollTop;\n  }\n\n  isMobile() {\n    return window.matchMedia('only screen and (max-width: 680px)').matches;\n  }\n\n  isTocStatic() {\n    return window.matchMedia('only screen and (max-width: 960px)').matches;\n  }\n\n  /**\n   * add animate to element\n   * @param {Element} element animate element\n   * @param {String|Array\u003cString\u003e} animation animation name\n   * @param {Boolean} reserved reserved animation\n   * @param {Function} callback remove callback\n   */\n  animateCSS(element, animation, reserved, callback) {\n    !Array.isArray(animation) \u0026\u0026 (animation = [animation]);\n    element.classList.add('animate__animated', ...animation);\n    element.addEventListener('animationend', () =\u003e {\n      !reserved \u0026\u0026 element.classList.remove('animate__animated', ...animation);\n      typeof callback === 'function' \u0026\u0026 callback();\n    }, { once: true });\n  }\n\n  /**\n   * date validator\n   * @param {*} date may be date or not\n   * @returns {Boolean}\n   */\n  isValidDate(date) {\n    return date instanceof Date \u0026\u0026 !isNaN(date.getTime());\n  }\n  \n  /**\n   * scroll some element into view\n   * @param {String} selector element to scroll\n   */\n  scrollIntoView(selector) {\n    const element = selector.startsWith('#')\n      ? document.getElementById(selector.slice(1))\n      : document.querySelector(selector);\n    element?.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }\n\n  /**\n   * get a hidden element for temporary use\n   * @returns {Object} { $el: Element, destroy: Function }\n   */\n  getStagingDOM() {\n    const stagingElement = document.createElement('div')\n    stagingElement.style.display = 'none';\n    stagingElement.dataset.stagingId = Math.random().toString(36).slice(2);\n    document.body.appendChild(stagingElement);\n\n    return {\n      $el: stagingElement,\n      stage(dom) {\n        stagingElement.innerHTML = '';\n        stagingElement.appendChild(dom);\n      },\n      contentAsHtml() {\n        return stagingElement.innerHTML;\n      },\n      contentAsText() {\n        return stagingElement.innerText;\n      },\n      contentAsJson() {\n        return JSON.parse(stagingElement.innerHTML);\n      },\n      destroy() {\n        document.body.removeChild(stagingElement);\n      }\n    }\n  }\n\n  /**\n   * copy text to clipboard\n   * @param {String} text text to copy\n   * @returns {Promise} promise\n   */\n  copyText(text) {\n    if (navigator.clipboard) {\n      this.copyText = (text) =\u003e navigator.clipboard.writeText(text);\n      return this.copyText(text);\n    }\n    this.copyText = (text) =\u003e new Promise((resolve, reject) =\u003e {\n      const input = document.createElement('input');\n      input.value = text;\n      document.body.appendChild(input);\n      input.select();\n      if (document.execCommand('copy')) {\n        document.body.removeChild(input);\n        resolve();\n      } else {\n        reject();\n      }\n    });\n    return this.copyText(text); \n  }\n}\n","import Util from './util';\n\nclass FixIt {\n  constructor() {\n    this.config = window.config;\n    this.isDark = document.documentElement.dataset.theme === 'dark';\n    this.util = new Util();\n    this.newScrollTop = this.util.getScrollTop();\n    this.oldScrollTop = this.newScrollTop;\n    this.scrollEventSet = new Set();\n    this.resizeEventSet = new Set();\n    this.switchThemeEventSet = new Set();\n    this.clickMaskEventSet = new Set();\n    this.beforeprintEventSet = new Set();\n    this.disableScrollEvent = false;\n    window.objectFitImages \u0026\u0026 objectFitImages();\n  }\n\n  initThemeColor() {\n    const $meta = document.querySelector('[name=\"theme-color\"]');\n    if (!$meta) {\n      return;\n    }\n    this._themeColorOnSwitchTheme = this._themeColorOnSwitchTheme || (() =\u003e {\n      $meta.content = this.isDark ? $meta.dataset.dark : $meta.dataset.light;\n    });\n    this.switchThemeEventSet.add(this._themeColorOnSwitchTheme);\n    this._themeColorOnSwitchTheme();\n  }\n\n  initSVGIcon() {\n    this.util.forEach(document.querySelectorAll('[data-svg-src]'), ($icon) =\u003e {\n      fetch($icon.dataset.svgSrc)\n        .then((response) =\u003e response.text())\n        .then((svg) =\u003e {\n          const $temp = document.createElement('div');\n          $temp.insertAdjacentHTML('afterbegin', svg);\n          const $svg = $temp.firstChild;\n          $svg.dataset.svgSrc = $icon.dataset.svgSrc\n          $svg.classList.add('icon');\n          const $titleElements = $svg.getElementsByTagName('title');\n          $titleElements.length \u0026\u0026 $svg.removeChild($titleElements[0]);\n          $icon.parentElement.replaceChild($svg, $icon);\n        })\n        .catch((err) =\u003e {\n          console.error(err);\n        });\n    });\n  }\n\n  initTwemoji(target = document.body) {\n    this.config.twemoji \u0026\u0026 twemoji.parse(target);\n  }\n\n  initMenu() {\n    this.initMenuDesktop();\n    this.initMenuMobile();\n  }\n\n  initMenuDesktop() {\n    this.util.forEach(document.querySelectorAll('.has-children'), ($item) =\u003e {\n      $item.querySelector('.sub-menu').style.minWidth = `${$item.offsetWidth - 8}px`;\n    });\n  }\n\n  initMenuMobile() {\n    const $menuToggleMobile = document.getElementById('menu-toggle-mobile');\n    const $menuMobile = document.getElementById('menu-mobile');\n    $menuToggleMobile.addEventListener('click', (event) =\u003e {\n      document.body.classList.toggle('blur');\n      $menuToggleMobile.classList.toggle('active');\n      $menuMobile.classList.toggle('active');\n      this.disableScrollEvent = document.body.classList.contains('blur');\n    }, false);\n    this._menuMobileOnClickMask = this._menuMobileOnClickMask || (() =\u003e {\n      $menuToggleMobile.classList.remove('active');\n      $menuMobile.classList.remove('active');\n    });\n    this.clickMaskEventSet.add(this._menuMobileOnClickMask);\n    // add nested menu toggler\n    this.util.forEach(document.querySelectorAll('.menu-item\u003e.nested-item'), ($nestedItem) =\u003e {\n      $nestedItem.addEventListener('click', function () {\n        this.parentNode.querySelector('.sub-menu').classList.toggle('open');\n        this.querySelector('.dropdown-icon').classList.toggle('open');\n      });\n    });\n  }\n\n  initSwitchTheme() {\n    this.util.forEach(document.getElementsByClassName('theme-switch'), ($themeSwitch) =\u003e {\n      $themeSwitch.addEventListener('click', () =\u003e {\n        document.documentElement.dataset.theme = this.isDark ? 'light' : 'dark';\n        this.isDark = !this.isDark;\n        window.localStorage?.setItem('theme', this.isDark ? 'dark' : 'light');\n        for (let event of this.switchThemeEventSet) {\n          event(this.isDark);\n        }\n      }, false);\n    });\n  }\n\n  initSearch() {\n    const searchConfig = this.config.search;\n    const isMobile = this.util.isMobile();\n    if (!searchConfig || (isMobile \u0026\u0026 this._searchMobileOnce) || (!isMobile \u0026\u0026 this._searchDesktopOnce)) {\n      return;\n    }\n    // Initialize default search config\n    const maxResultLength = searchConfig.maxResultLength ?? 10;\n    const snippetLength = searchConfig.snippetLength ?? 50;\n    const highlightTag = searchConfig.highlightTag ?? 'em';\n    const isCaseSensitive = searchConfig.isCaseSensitive ?? false;\n    const minMatchCharLength = searchConfig.minMatchCharLength ?? 1;\n    const findAllMatches = searchConfig.findAllMatches ?? false;\n    const location = searchConfig.location ?? 0;\n    const threshold = searchConfig.threshold ?? 0.3;\n    const distance = searchConfig.distance ?? 100;\n    const ignoreLocation = searchConfig.ignoreLocation ?? false;\n    const useExtendedSearch = searchConfig.useExtendedSearch ?? false;\n    const ignoreFieldNorm = searchConfig.ignoreFieldNorm ?? false;\n    const suffix = isMobile ? 'mobile' : 'desktop';\n    const $header = document.getElementById(`header-${suffix}`);\n    const $searchInput = document.getElementById(`search-input-${suffix}`);\n    const $searchToggle = document.getElementById(`search-toggle-${suffix}`);\n    const $searchLoading = document.getElementById(`search-loading-${suffix}`);\n    const $searchClear = document.getElementById(`search-clear-${suffix}`);\n    const $searchCancel = document.getElementById('search-cancel-mobile');\n\n    // goto the PostChat panel rather than search results\n    if (searchConfig.type === 'post-chat' \u0026\u0026 window.postChatUser) {\n      if (isMobile) {\n        $searchInput.addEventListener('focus', () =\u003e {\n          window.postChatUser.setSearchInput('');\n        }, false);\n      } else {\n        $searchToggle.addEventListener('click', () =\u003e {\n          window.postChatUser.setSearchInput('');\n        }, false);\n      }\n      return;      \n    }\n\n    if (isMobile) {\n      this._searchMobileOnce = true;\n      $searchInput.addEventListener('focus', () =\u003e {\n        this.disableScrollEvent = true;\n        document.body.classList.add('blur');\n        $header.classList.add('open');\n      }, false);\n      $searchCancel.addEventListener('click', () =\u003e {\n        this.disableScrollEvent = false;\n        $header.classList.remove('open');\n        document.body.classList.remove('blur');\n        document.getElementById('menu-toggle-mobile').classList.remove('active');\n        document.getElementById('menu-mobile').classList.remove('active');\n        $searchLoading.style.display = 'none';\n        $searchClear.style.display = 'none';\n        this._searchMobile \u0026\u0026 this._searchMobile.autocomplete.setVal('');\n      }, false);\n      $searchClear.addEventListener('click', () =\u003e {\n        $searchClear.style.display = 'none';\n        this._searchMobile \u0026\u0026 this._searchMobile.autocomplete.setVal('');\n      }, false);\n      this._searchMobileOnClickMask = this._searchMobileOnClickMask || (() =\u003e {\n        $header.classList.remove('open');\n        $searchLoading.style.display = 'none';\n        $searchClear.style.display = 'none';\n        this._searchMobile \u0026\u0026 this._searchMobile.autocomplete.setVal('');\n      });\n      this.clickMaskEventSet.add(this._searchMobileOnClickMask);\n    } else {\n      this._searchDesktopOnce = true;\n      $searchToggle.addEventListener('click', () =\u003e {\n        document.body.classList.add('blur');\n        $header.classList.add('open');\n        $searchInput.focus();\n        this.disableScrollEvent = true;\n      }, false);\n      $searchClear.addEventListener('click', () =\u003e {\n        this.disableScrollEvent = false;\n        $searchClear.style.display = 'none';\n        this._searchDesktop \u0026\u0026 this._searchDesktop.autocomplete.setVal('');\n      }, false);\n      this._searchDesktopOnClickMask = this._searchDesktopOnClickMask ||(() =\u003e {\n          $header.classList.remove('open');\n          $searchLoading.style.display = 'none';\n          $searchClear.style.display = 'none';\n          this._searchDesktop \u0026\u0026 this._searchDesktop.autocomplete.setVal('');\n        });\n      this.clickMaskEventSet.add(this._searchDesktopOnClickMask);\n    }\n    $searchInput.addEventListener('input', () =\u003e {\n      if ($searchInput.value === '') $searchClear.style.display = 'none';\n      else $searchClear.style.display = 'inline';\n    }, false);\n\n    const initAutosearch = () =\u003e {\n      const autosearch = autocomplete(`#search-input-${suffix}`,\n        {\n          hint: false,\n          autoselect: true,\n          dropdownMenuContainer: `#search-dropdown-${suffix}`,\n          clearOnSelected: true,\n          cssClasses: { noPrefix: true },\n          debug: true\n        },\n        {\n          name: 'search',\n          source: (query, callback) =\u003e {\n            $searchLoading.style.display = 'inline';\n            $searchClear.style.display = 'none';\n            const finish = (results) =\u003e {\n              $searchLoading.style.display = 'none';\n              $searchClear.style.display = 'inline';\n              callback(results);\n            };\n            if (searchConfig.type === 'algolia') {\n              this._algoliaIndex =\n                this._algoliaIndex || algoliasearch(searchConfig.algoliaAppID, searchConfig.algoliaSearchKey).initIndex(searchConfig.algoliaIndex);\n              this._algoliaIndex\n                .search(query, {\n                  offset: 0,\n                  length: maxResultLength * 8,\n                  attributesToHighlight: ['title'],\n                  attributesToSnippet: [`content:${snippetLength}`],\n                  highlightPreTag: `\u003c${highlightTag}\u003e`,\n                  highlightPostTag: `\u003c/${highlightTag}\u003e`\n                })\n                .then(({ hits }) =\u003e {\n                  const results = {};\n                  hits.forEach(({ uri, date, _highlightResult: { title }, _snippetResult: { content } }) =\u003e {\n                    if (results[uri] \u0026\u0026 results[uri].context.length \u003e content.value) {\n                      return;\n                    }\n                    results[uri] = {\n                      uri: uri,\n                      title: title.value,\n                      date: date,\n                      context: content.value\n                    };\n                  });\n                  finish(Object.values(results).slice(0, maxResultLength));\n                })\n                .catch((err) =\u003e {\n                  console.error(err);\n                  finish([]);\n                });\n            } else if (searchConfig.type === 'fuse') {\n              const search = () =\u003e {\n                const results = {};\n                window._index.search(query).forEach(({ item, refIndex, matches }) =\u003e {\n                  let title = item.title;\n                  let content = item.content.replace(/\u0026/g, '\u0026amp;').replace(/\u003c/g, '\u0026lt;').replace(/\u003e/g, '\u0026gt;')\n                  matches.forEach(({ indices, value, key }) =\u003e {\n                    if (key === 'content') {\n                      let offset = 0;\n                      for (let i = 0; i \u003c indices.length; i++) {\n                        const substr = content.substring(indices[i][0] + offset, indices[i][1] + 1 + offset);\n                        const tag = `\u003c${highlightTag}\u003e` + substr + `\u003c/${highlightTag}\u003e`;\n                        content = content.substring(0, indices[i][0] + offset) + tag + content.substring(indices[i][1] + 1 + offset, content.length);\n                        offset += highlightTag.length * 2 + 5;\n                      }\n                    } else if (key === 'title') {\n                      let offset = 0;\n                      for (let i = 0; i \u003c indices.length; i++) {\n                        const substr = title.substring(indices[i][0] + offset, indices[i][1] + 1 + offset);\n                        const tag = `\u003c${highlightTag}\u003e` + substr + `\u003c/${highlightTag}\u003e`;\n                        title = title.substring(0, indices[i][0] + offset) + tag + title.substring(indices[i][1] + 1 + offset, content.length);\n                        offset += highlightTag.length * 2 + 5;\n                      }\n                    }\n                  });\n                  results[item.uri] = {\n                    uri: item.uri,\n                    title: title,\n                    date: item.date,\n                    context: content\n                  };\n                });\n                return Object.values(results).slice(0, maxResultLength);\n              };\n              if (!window._index) {\n                fetch(searchConfig.fuseIndexURL)\n                  .then((response) =\u003e response.json())\n                  .then((data) =\u003e {\n                    const options = {\n                      isCaseSensitive: isCaseSensitive,\n                      findAllMatches: findAllMatches,\n                      minMatchCharLength: minMatchCharLength,\n                      location: location,\n                      threshold: threshold,\n                      distance: distance,\n                      ignoreLocation: ignoreLocation,\n                      useExtendedSearch: useExtendedSearch,\n                      ignoreFieldNorm: ignoreFieldNorm,\n                      includeScore: false,\n                      shouldSort: true,\n                      includeMatches: true,\n                      keys: ['content', 'title']\n                    };\n                    window._index = new Fuse(data, options);\n                    finish(search());\n                  })\n                  .catch((err) =\u003e {\n                    console.error(err);\n                    finish([]);\n                  });\n              } else finish(search());\n            } else if (searchConfig.type === 'cse') {\n              const cseConfig = this.config.cse;\n              if (cseConfig.engine === 'google' \u0026\u0026 cseConfig.cx) {\n                finish([{\n                  uri: `${cseConfig.resultsPage}#gsc.tab=0\u0026gsc.q=${encodeURIComponent(query)}`,\n                  title: cseConfig.searchIn,\n                  date: '\u003ci class=\"fa-brands fa-searchengin fa-xl\" aria-hidden=\"true\"\u003e\u003c/i\u003e',\n                  context: cseConfig.gotoResultsPage\n                }]);\n              }\n            } else {\n              finish([]);\n            }\n          },\n          templates: {\n            suggestion: ({ title, date, context }) =\u003e\n              `\u003cdiv\u003e\u003cspan class=\"suggestion-title\"\u003e${title}\u003c/span\u003e\u003cspan class=\"suggestion-date\"\u003e${date}\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"suggestion-context\"\u003e${context}\u003c/div\u003e`,\n            empty: ({ query }) =\u003e `\u003cdiv class=\"search-empty\"\u003e${searchConfig.noResultsFound}: \u003cspan class=\"search-query\"\u003e\"${query}\"\u003c/span\u003e\u003c/div\u003e`,\n            footer: ({}) =\u003e {\n              let searchType, icon, href;\n              switch (searchConfig.type) {\n                case 'algolia':\n                  searchType = 'algolia';\n                  icon = '\u003ci class=\"fa-brands fa-algolia fa-fw\" aria-hidden=\"true\"\u003e\u003c/i\u003e';\n                  href = 'https://www.algolia.com/';\n                  break;\n                case 'fuse':\n                  searchType = 'Fuse.js';\n                  icon = '';\n                  href = 'https://fusejs.io/';\n                  break;\n                case 'cse':\n                  if (this.config.cse.engine === 'google') {\n                    searchType = 'Google CSE';\n                    icon = '\u003ci class=\"fa-brands fa-google fa-fw\" aria-hidden=\"true\"\u003e\u003c/i\u003e';\n                    href = 'https://programmablesearchengine.google.com/';\n                  }\n                  break;\n                default:\n                  searchType = '';\n                  icon = '';\n                  href = '';\n              }\n              return `\u003cdiv class=\"search-footer\"\u003eSearch by \u003ca href=\"${href}\" rel=\"noopener noreferrer\" target=\"_blank\"\u003e${icon} ${searchType}\u003c/a\u003e\u003c/div\u003e`;\n            }\n          }\n        }\n      );\n      autosearch.on('autocomplete:selected', (_event, suggestion, _dataset, _context) =\u003e {\n        window.location.assign(suggestion.uri);\n      });\n      if (isMobile) {\n        this._searchMobile = autosearch;\n      } else {\n        this._searchDesktop = autosearch;\n      }\n    };\n    initAutosearch();\n  }\n\n  initBreadcrumb() {\n    const $breadcrumbContainer = document.querySelector('.breadcrumb-container.sticky')\n    this.breadcrumbHeight = $breadcrumbContainer?.clientHeight ?? 0;\n    if (this.breadcrumbHeight) {\n      document.querySelector('main.container')?.style.setProperty('--fi-breadcrumb-height', `${this.breadcrumbHeight}px`);\n    }\n  }\n\n  initDetails(target = document) {\n    this.util.forEach(target.querySelectorAll('.details:not(.disabled)'), ($details) =\u003e {\n      const $summary = $details.querySelector('.details-summary');\n      $summary.addEventListener('click', () =\u003e {\n        $details.classList.toggle('open');\n      }, false);\n    });\n  }\n\n  initLightGallery() {\n    if (this.config.lightgallery) {\n      this.lg \u0026\u0026 this.lg.destroy(true);\n      this.lg = lightGallery(document.getElementById('content'), {\n        plugins: [lgThumbnail, lgZoom],\n        selector: '.lightgallery',\n        speed: 400,\n        hideBarsDelay: 2000,\n        allowMediaOverlap: true,\n        exThumbImage: 'data-thumbnail',\n        toggleThumb: true,\n        thumbWidth: 80,\n        thumbHeight: '60px',\n        actualSize: false,\n        showZoomInOutIcons: true,\n        licenseKey: 'none'\n      });\n    }\n  }\n\n  /**\n   * init code wrapper\n   */\n  initCodeWrapper() {\n    if (!this.config.code) {\n      this.initCopyCode();\n      return\n    }\n    // if markup.highlight.lineNumbersInTable set to false\n    this.util.forEach(document.querySelectorAll('.highlight \u003e pre.chroma'), ($preChroma) =\u003e {\n      const $chroma = document.createElement('div');\n      $chroma.className = $preChroma.className;\n      const $table = document.createElement('table');\n      $chroma.appendChild($table);\n      const $tbody = document.createElement('tbody');\n      $table.appendChild($tbody);\n      const $tr = document.createElement('tr');\n      $tbody.appendChild($tr);\n      const $td = document.createElement('td');\n      $tr.appendChild($td);\n      $preChroma.parentElement.replaceChild($chroma, $preChroma);\n      $td.appendChild($preChroma);\n    });\n    // render code header\n    this.util.forEach(document.querySelectorAll('.highlight \u003e .chroma:not([data-init])'), ($chroma) =\u003e {\n      $chroma.dataset.init = 'true';\n      if ($chroma.parentElement.classList.contains('no-header')) {\n        this.initCopyCode($chroma);\n        return;\n      }\n      const $codeElements = $chroma.querySelectorAll('pre.chroma \u003e code');\n      if ($codeElements.length) {\n        const $code = $codeElements[$codeElements.length - 1];\n        const $header = document.createElement('div');\n        $header.className = 'code-header ' + $code.className.toLowerCase();\n        // code title\n        const $title = document.createElement('span');\n        $title.classList.add('code-title');\n        // insert code title inner\n        $title.insertAdjacentHTML(\n          'afterbegin',\n          $chroma.parentNode.title\n            ? `\u003ci class=\"arrow fa-solid fa-chevron-right fa-fw\" aria-hidden=\"true\"\u003e\u003c/i\u003e\u003cspan class=\"title-inner\"\u003e${$chroma.parentNode.title}\u003c/span\u003e`\n            : '\u003ci class=\"arrow fa-solid fa-chevron-right fa-fw\" aria-hidden=\"true\"\u003e\u003c/i\u003e'\n        );\n        $title.addEventListener('click', () =\u003e {\n          $chroma.classList.toggle('open');\n        }, false);\n        $header.appendChild($title);\n        // ellipses icon\n        const $ellipses = document.createElement('span');\n        $ellipses.insertAdjacentHTML('afterbegin', '\u003ci class=\"fa-solid fa-ellipsis-h fa-fw\" aria-hidden=\"true\"\u003e\u003c/i\u003e');\n        $ellipses.classList.add('ellipses');\n        $ellipses.addEventListener('click', () =\u003e {\n          $chroma.classList.add('open');\n        }, false);\n        $header.appendChild($ellipses);\n        // edit button\n        if (this.config.code.editable) {\n          const $edit = document.createElement('span');\n          $edit.classList.add('edit');\n          $edit.insertAdjacentHTML('afterbegin', `\u003ci class=\"fa-solid fa-pen-to-square fa-fw\" title=\"${this.config.code.editUnLockTitle}\" aria-hidden=\"true\"\u003e\u003c/i\u003e`);\n          $edit.addEventListener('click', () =\u003e {\n            const $iconKey = $edit.querySelector('.fa-pen-to-square');\n            const $iconLock = $edit.querySelector('.fa-lock');\n            const $preChromas = $edit.parentElement.parentElement.querySelectorAll('pre.chroma');\n            const $preChroma = $preChromas.length === 2 ? $preChromas[1] : $preChromas[0];\n            if ($iconKey) {\n              $iconKey.classList.add('fa-lock');\n              $iconKey.classList.remove('fa-pen-to-square');\n              $iconKey.title = this.config.code.editLockTitle;\n              $preChroma.setAttribute('contenteditable', true);\n              $preChroma.focus();\n            } else {\n              $iconLock.classList.add('fa-pen-to-square');\n              $iconLock.classList.remove('fa-lock');\n              $iconLock.title = this.config.code.editUnLockTitle;\n              $preChroma.setAttribute('contenteditable', false);\n              $preChroma.blur();\n            }\n          }, false);\n          $header.appendChild($edit);\n        }\n        // copy button\n        if (this.config.code.copyTitle) {\n          const $copy = document.createElement('span');\n          $copy.insertAdjacentHTML('afterbegin', '\u003ci class=\"fa-regular fa-copy fa-fw\" aria-hidden=\"true\"\u003e\u003c/i\u003e');\n          $copy.classList.add('copy');\n          // remove the leading and trailing whitespace of the code string\n          let code = $code.innerText.trim();\n          // in the details element, the code string cannot be gotten directly.\n          if ($chroma.closest('details') !== null) {\n            const _tempEl = document.createElement('div');\n            _tempEl.appendChild($code.cloneNode(true));\n            code = _tempEl.innerText.trim();\n          }\n          const forceOpen = $chroma.parentElement.dataset.open ? JSON.parse($chroma.parentElement.dataset.open) : void 0;\n          if (forceOpen ?? (this.config.code.maxShownLines \u003c 0 || code.split('\\n').length \u003c this.config.code.maxShownLines + 2)) {\n            $chroma.classList.add('open');\n          }\n          $copy.title = this.config.code.copyTitle;\n          $copy.addEventListener('click', () =\u003e {\n            this.util.copyText(code).then(() =\u003e {\n              this.util.animateCSS($code, 'animate__flash');\n            }, () =\u003e {\n              console.error('Clipboard write failed!', 'Your browser does not support clipboard API!');\n            });\n          }, false);\n          $header.appendChild($copy);\n        }\n        $chroma.insertBefore($header, $chroma.firstChild);\n      }\n    });\n  }\n\n  initTable(target = document) {\n    this.util.forEach(target.querySelectorAll('.content table'), ($table) =\u003e {\n      const $wrapper = document.createElement('div');\n      $wrapper.className = 'table-wrapper';\n      $table.parentElement.replaceChild($wrapper, $table);\n      $wrapper.appendChild($table);\n    });\n  }\n\n  /**\n   * init simple copy code when there is no code header\n   * https://github.com/github/clipboard-copy-element\n   * @param {ELement} singleCode single code block\n   */\n  initCopyCode(singleCode) {\n    // TODO\n  }\n\n  /**\n   * init table of contents\n   */\n  initToc() {\n    const $tocCore = document.getElementById('TableOfContents');\n    if ($tocCore === null) {\n      return;\n    }\n    if (document.getElementById('toc-static').dataset.kept === 'true' || this.util.isTocStatic()) {\n      const $tocContentStatic = document.getElementById('toc-content-static');\n      if ($tocCore.parentElement !== $tocContentStatic) {\n        $tocCore.parentElement.removeChild($tocCore);\n        $tocContentStatic.appendChild($tocCore);\n      }\n      this._tocOnScroll \u0026\u0026 this.scrollEventSet.delete(this._tocOnScroll);\n    } else {\n      const $tocContentAuto = document.getElementById('toc-content-auto');\n      if ($tocCore.parentElement !== $tocContentAuto) {\n        $tocCore.parentElement.removeChild($tocCore);\n        $tocContentAuto.appendChild($tocCore);\n      }\n      const $toc = document.getElementById('toc-auto');\n      $toc.style.visibility = 'visible';\n      this.util.animateCSS($toc, ['animate__fadeIn', 'animate__faster'], true);\n      const $postMeta = document.querySelector('.post-meta');\n      $toc.style.marginTop = `${$postMeta.offsetTop + $postMeta.clientHeight}px`;\n      const $tocLinkElements = $tocCore.querySelectorAll('a:first-child');\n      const $tocLiElements = $tocCore.getElementsByTagName('li');\n      const $headingElements = document.getElementsByClassName('heading-element');\n      const headerHeight = document.getElementById('header-desktop').offsetHeight;\n      document.querySelector('.container').addEventListener('resize', () =\u003e {\n        $toc.style.marginBottom = `${document.querySelector('.container').clientHeight - document.querySelector('.post-footer').offsetTop}px`;\n      });\n      this._tocOnScroll = this._tocOnScroll || (() =\u003e {\n        $toc.style.marginBottom = `${document.querySelector('.container').clientHeight - document.querySelector('.post-footer').offsetTop}px`;\n        this.util.forEach($tocLinkElements, ($tocLink) =\u003e {\n          $tocLink.classList.remove('active');\n        });\n        this.util.forEach($tocLiElements, ($tocLi) =\u003e {\n          $tocLi.classList.remove('has-active');\n        });\n        const INDEX_SPACING = 20 + (document.body.dataset.headerDesktop !== 'normal' ? headerHeight : 0) + this.breadcrumbHeight;\n        let activeTocIndex = $headingElements.length - 1;\n        for (let i = 0; i \u003c $headingElements.length - 1; i++) {\n          const thisTop = $headingElements[i].getBoundingClientRect().top;\n          const nextTop = $headingElements[i + 1].getBoundingClientRect().top;\n          if ((i == 0 \u0026\u0026 thisTop \u003e INDEX_SPACING) || (thisTop \u003c= INDEX_SPACING \u0026\u0026 nextTop \u003e INDEX_SPACING)) {\n            activeTocIndex = i;\n            break;\n          }\n        }\n        if (activeTocIndex !== -1 \u0026\u0026 $tocLinkElements[activeTocIndex]) {\n          $tocLinkElements[activeTocIndex].classList.add('active');\n          let $parent = $tocLinkElements[activeTocIndex].parentElement;\n          while ($parent !== $tocCore) {\n            $parent.classList.add('has-active');\n            $parent = $parent.parentElement.parentElement;\n          }\n        }\n      });\n      this._tocOnScroll();\n      this.scrollEventSet.add(this._tocOnScroll);\n    }\n  }\n\n  initTocListener() {\n    const $toc = document.getElementById('toc-auto');\n    const $tocContentAuto = document.getElementById('toc-content-auto');\n    document.querySelector('#toc-auto\u003e.toc-title')?.addEventListener('click', () =\u003e {\n      const animation = ['animate__faster'];\n      const tocHidden = $toc.classList.contains('toc-hidden');\n      animation.push(tocHidden ? 'animate__fadeIn' : 'animate__fadeOut');\n      $tocContentAuto.classList.remove(tocHidden ? 'animate__fadeOut' : 'animate__fadeIn');\n      this.util.animateCSS($tocContentAuto, animation, true);\n      $toc.classList.toggle('toc-hidden');\n    }, false);\n  }\n\n  /**\n   * It's a dirty hack to fix the bug of APlayer and smoothScroll. \n   * see https://github.com/hugo-fixit/FixIt/issues/292\n   */\n  fixTocScroll() {\n    if (typeof APlayer === 'function') {\n      // remove APlayer click event listener of the toc link\n      let $tocCore = document.getElementById('TableOfContents');\n      if ($tocCore) {\n        const $newTocCore = $tocCore.cloneNode(true);\n        $tocCore.parentElement.replaceChild($newTocCore, $tocCore);\n        $tocCore = $newTocCore;\n      }\n      // remove APlayer click event listener of the heading mark\n      this.util.forEach(document.querySelectorAll('.heading-mark'), ($headingMark) =\u003e {\n        const $newHeadingMark = $headingMark.cloneNode(true);\n        $headingMark.parentElement.replaceChild($newHeadingMark, $headingMark);\n      });\n    }\n  }\n\n  initMath(target = document.body) {\n    if (this.config.math) {\n      renderMathInElement(target, this.config.math);\n    }\n  }\n\n  initMermaid() {\n    if (!this.config.mermaid) {\n      return;\n    }\n    const _initializeAndRun = () =\u003e {\n      const themes = this.config.mermaid.themes ?? ['default', 'dark'];\n      window.mermaid.initialize({\n        securityLevel: 'loose',\n        startOnLoad: false,\n        theme: this.isDark ? themes[1] : themes[0],\n      });\n      window.mermaid.run()\n    }\n    _initializeAndRun()\n    this.switchThemeEventSet.add(() =\u003e {\n      // Reinitialize and run mermaid when theme changes.\n      this.util.forEach(document.querySelectorAll('.mermaid[data-processed]'), ($mermaid) =\u003e {\n        $mermaid.dataset.processed = ''\n        $mermaid.innerHTML = ''\n        $mermaid.appendChild($mermaid.nextElementSibling.content.cloneNode(true))\n      })\n      _initializeAndRun()\n    });\n    this.beforeprintEventSet.add(() =\u003e { \n      // Set the theme to neutral when printing.\n    });\n  }\n\n  initEcharts() {\n    if (!this.config.echarts) {\n      return;\n    }\n    echarts.registerTheme('light', this.config.echarts.lightTheme);\n    echarts.registerTheme('dark', this.config.echarts.darkTheme);\n    this._echartsOnSwitchTheme = this._echartsOnSwitchTheme || (() =\u003e {\n      this._echartsArr = this._echartsArr || [];\n      for (let i = 0; i \u003c this._echartsArr.length; i++) {\n        this._echartsArr[i].dispose();\n      }\n      this._echartsArr = [];\n      const stagingDOM = this.util.getStagingDOM()\n      this.util.forEach(document.getElementsByClassName('echarts'), ($echarts) =\u003e {\n        if ($echarts.nextElementSibling.tagName === 'TEMPLATE') {\n          const chart = echarts.init($echarts, this.isDark ? 'dark' : 'light', { renderer: 'svg' });\n          stagingDOM.stage($echarts.nextElementSibling.content.cloneNode(true));\n          // support both JSON and JS object literal\n          if ($echarts.nextElementSibling.dataset.fmt === 'js') {\n            eval(`chart.setOption(${stagingDOM.contentAsText()})`);\n          } else {\n            chart.setOption(stagingDOM.contentAsJson());\n          }\n          this._echartsArr.push(chart);\n        }\n      });\n      stagingDOM.destroy();\n    });\n    this.switchThemeEventSet.add(this._echartsOnSwitchTheme);\n    this._echartsOnSwitchTheme();\n    this._echartsOnResize = this._echartsOnResize || (() =\u003e {\n      for (let i = 0; i \u003c this._echartsArr.length; i++) {\n        this._echartsArr[i].resize();\n      }\n    });\n    this.resizeEventSet.add(this._echartsOnResize);\n  }\n\n  initMapbox() {\n    if (this.config.mapbox) {\n      if (!mapboxgl.accessToken) {\n        mapboxgl.accessToken = this.config.mapbox.accessToken;\n        mapboxgl.setRTLTextPlugin(this.config.mapbox.RTLTextPlugin);\n        this._mapboxArr = this._mapboxArr || [];\n      }\n      this.util.forEach(document.querySelectorAll('.mapbox:empty'), ($mapbox) =\u003e {\n        const { lng, lat, zoom, lightStyle, darkStyle, marked, markers, navigation, geolocate, scale, fullscreen } = JSON.parse($mapbox.dataset.options);\n        const mapbox = new mapboxgl.Map({\n          container: $mapbox,\n          center: [lng, lat],\n          zoom: zoom,\n          minZoom: 0.2,\n          style: this.isDark ? darkStyle : lightStyle,\n          attributionControl: false\n        });\n        if (marked) {\n          new mapboxgl.Marker().setLngLat([lng, lat]).addTo(mapbox);\n        }\n        const markerArray = typeof markers === 'string' ? JSON.parse(markers) : markers;\n        if (Array.isArray(markerArray) \u0026\u0026 markerArray.length \u003e 0) {\n          markerArray.forEach(marker =\u003e {\n            const { lng: markerLng, lat: markerLat, description } = marker;\n            const popup = new mapboxgl.Popup({ offset: 25 }).setText(description); \n            new mapboxgl.Marker()\n              .setLngLat([markerLng, markerLat])\n              .setPopup(popup)\n              .addTo(mapbox);\n          });\n        }\n        if (navigation) {\n          mapbox.addControl(new mapboxgl.NavigationControl(), 'bottom-right');\n        }\n        if (geolocate) {\n          mapbox.addControl(\n            new mapboxgl.GeolocateControl({\n              positionOptions: {\n                enableHighAccuracy: true\n              },\n              showUserLocation: true,\n              trackUserLocation: true\n            }),\n            'bottom-right'\n          );\n        }\n        if (scale) {\n          mapbox.addControl(new mapboxgl.ScaleControl());\n        }\n        if (fullscreen) {\n          mapbox.addControl(new mapboxgl.FullscreenControl());\n        }\n        mapbox.addControl(new MapboxLanguage());\n        this._mapboxArr.push(mapbox);\n      });\n      this._mapboxOnSwitchTheme = this._mapboxOnSwitchTheme || (() =\u003e {\n        this.util.forEach(this._mapboxArr, (mapbox) =\u003e {\n          const $mapbox = mapbox.getContainer();\n          const { lightStyle, darkStyle } = JSON.parse($mapbox.dataset.options);\n          mapbox.setStyle(this.isDark ? darkStyle : lightStyle);\n          mapbox.addControl(new MapboxLanguage());\n        });\n      });\n      this.switchThemeEventSet.add(this._mapboxOnSwitchTheme);\n    }\n  }\n\n  initTypeit(target = document) {\n    if (this.config.typeit) {\n      const typeitConfig = this.config.typeit;\n      const speed = typeitConfig.speed || 100;\n      const cursorSpeed = typeitConfig.cursorSpeed || 1000;\n      const cursorChar = typeitConfig.cursorChar || '|';\n      const loop = typeitConfig.loop ?? false;\n      // divide them into different groups according to the data-group attribute value of the element\n      // results in an object like {group1: [ele1, ele2], group2: [ele3, ele4]}\n      const typeitElements = target.querySelectorAll('.typeit')\n      const groupMap = Array.from(typeitElements).reduce((acc, ele) =\u003e {\n        const group = ele.dataset.group || ele.id || Math.random().toString(36).substring(2);\n        acc[group] = acc[group] || [];\n        acc[group].push(ele);\n        return acc;\n      }, {});\n      const stagingDOM = this.util.getStagingDOM()\n\n      Object.values(groupMap).forEach((group) =\u003e {\n        const typeone = (i) =\u003e {\n          const typeitElement = group[i];\n          const singleData = typeitElement.dataset;\n          stagingDOM.stage(typeitElement.querySelector('template').content.cloneNode(true));\n          // for shortcodes usage\n          let targetEle = typeitElement.firstElementChild\n          // for system elements usage\n          if (typeitElement.firstElementChild.tagName === 'TEMPLATE') {\n            typeitElement.innerHTML = '';\n            targetEle = typeitElement\n          }\n          // create a new instance of TypeIt for each element\n          const instance = new TypeIt(targetEle, {\n            strings: stagingDOM.$el.querySelector('pre')?.innerHTML || stagingDOM.contentAsHtml(),\n            speed: Number(singleData.speed) \u003e= 0 ? Number(singleData.speed) : speed,\n            lifeLike: true,\n            cursorSpeed: Number(singleData.cursorSpeed) \u003e= 0 ? Number(singleData.cursorSpeed) : cursorSpeed,\n            cursorChar: singleData.cursorChar || cursorChar,\n            waitUntilVisible: true,\n            loop: singleData.loop ? singleData.loop === 'true' : loop,\n            afterComplete: () =\u003e {\n              const duration = Number(singleData.duration ?? typeitConfig.duration);\n              if (i === group.length - 1) {\n                if (duration \u003e= 0) {\n                  window.setTimeout(() =\u003e {\n                    instance.destroy();\n                  }, duration);\n                }\n                return;\n              }\n              instance.destroy();\n              typeone(i + 1);\n            }\n          }).go();\n        };\n        typeone(0);\n      });\n      stagingDOM.destroy();\n    }\n  }\n\n  initCommentLightGallery(comments, images) {\n    document.querySelectorAll(comments).forEach(($content) =\u003e {\n      const $imgs = $content.querySelectorAll(images + ':not([lightgallery-loaded])');\n      $imgs.forEach(($img) =\u003e {\n        $img.setAttribute('lightgallery-loaded', '');\n        const $link = document.createElement('a');\n        $link.setAttribute('class', 'comment-lightgallery');\n        $link.setAttribute('href', $img.src);\n        $link.append($img.cloneNode());\n        $img.replaceWith($link);\n      });\n      if ($imgs.length) {\n        lightGallery($content, {\n          selector: '.comment-lightgallery',\n          actualSize: false,\n          hideBarsDelay: 2000,\n          speed: 400\n        });\n      }\n    });\n  }\n\n  initComment() {\n    if (!this.config.comment?.enable) {\n      return;\n    }\n    // whether to show the view comments button\n    if (document.querySelector('#comments')) {\n      const $viewCommentsBtn = document.querySelector('.view-comments');\n      $viewCommentsBtn.classList.remove('d-none');\n      // view comments button click event\n      $viewCommentsBtn.addEventListener('click', () =\u003e {\n        this.util.scrollIntoView('#comments');\n      }, false);\n    }\n    this.config.comment.expired \u0026\u0026 document.querySelector('#comments').remove();\n    if (this.config.comment.artalk) {\n      if (this.config.comment.expired) {\n        return Artalk.LoadCountWidget({\n          server: this.config.comment.artalk.server,\n          site: this.config.comment.artalk.site,\n          pvEl: this.config.comment.artalk.pvEl,\n          countEl: this.config.comment.artalk.countEl\n        })\n      }\n      const artalk = Artalk.init(this.config.comment.artalk);\n      artalk.setDarkMode(this.isDark);\n      this.switchThemeEventSet.add(() =\u003e {\n        artalk.setDarkMode(this.isDark);\n      });\n      artalk.on('comments-loaded', () =\u003e {\n        this.config.comment.artalk.lightgallery \u0026\u0026 this.initCommentLightGallery('.atk-comment .atk-content', 'img:not([atk-emoticon])');\n      });\n      return artalk;\n    }\n    if (this.config.comment.gitalk) {\n      this.config.comment.gitalk.body = decodeURI(window.location.href);\n      const gitalk = new Gitalk(this.config.comment.gitalk);\n      gitalk.render('gitalk');\n      return gitalk;\n    }\n    if (this.config.comment.valine) {\n      return new Valine(this.config.comment.valine);\n    }\n    if (this.config.comment.waline) {\n      if (this.config.comment.expired) {\n        this.config.comment.waline.pageview \u0026\u0026 Waline.pageviewCount({\n          serverURL: this.config.comment.waline.serverURL,\n          path: window.location.pathname\n        });\n        return;\n      }\n      return Waline.init(this.config.comment.waline);\n    }\n    if (this.config.comment.utterances) {\n      const utterancesConfig = this.config.comment.utterances;\n      const script = document.createElement('script');\n      script.src = 'https://utteranc.es/client.js';\n      script.setAttribute('repo', utterancesConfig.repo);\n      script.setAttribute('issue-term', utterancesConfig.issueTerm);\n      if (utterancesConfig.label) script.setAttribute('label', utterancesConfig.label);\n      script.setAttribute('theme', this.isDark ? utterancesConfig.darkTheme : utterancesConfig.lightTheme);\n      script.crossOrigin = 'anonymous';\n      script.async = true;\n      document.getElementById('utterances').appendChild(script);\n      this._utterancesOnSwitchTheme = this._utterancesOnSwitchTheme || (() =\u003e {\n        const message = {\n          type: 'set-theme',\n          theme: this.isDark ? utterancesConfig.darkTheme : utterancesConfig.lightTheme\n        };\n        document.querySelector('.utterances-frame')?.contentWindow.postMessage(message, 'https://utteranc.es');\n      });\n      this.switchThemeEventSet.add(this._utterancesOnSwitchTheme);\n      return;\n    }\n    if (this.config.comment.twikoo) {\n      const twikooConfig = this.config.comment.twikoo;\n      if (twikooConfig.lightgallery) {\n        twikooConfig.onCommentLoaded = () =\u003e {\n          this.initCommentLightGallery('.tk-comments .tk-content', 'img:not(.tk-owo-emotion)');\n        };\n      }\n      twikoo.init(twikooConfig);\n      if (twikooConfig.commentCount) {\n        // https://twikoo.js.org/api.html#get-comments-count\n        twikoo\n          .getCommentsCount({\n            envId: twikooConfig.envId,\n            region: twikooConfig.region,\n            urls: [window.location.pathname],\n            includeReply: false\n          })\n          .then(function (response) {\n            const twikooCommentCount = document.getElementById('twikoo-comment-count');\n            if (twikooCommentCount) twikooCommentCount.innerHTML = response[0].count;\n          });\n      }\n      return;\n    }\n    if (this.config.comment.giscus) {\n      const giscusConfig = this.config.comment.giscus;\n      this._giscusOnSwitchTheme = this._giscusOnSwitchTheme || (() =\u003e {\n        const message = { setConfig: { theme: this.isDark ? giscusConfig.darkTheme : giscusConfig.lightTheme }};\n        document.querySelector('.giscus-frame')?.contentWindow.postMessage({ giscus: message }, giscusConfig.origin);\n      });\n      this.switchThemeEventSet.add(this._giscusOnSwitchTheme);\n      // gicuss to parent message\n      this._messageListener = (event) =\u003e {\n        if (event.origin !== giscusConfig.origin) return;\n        const $script = document.querySelector('#giscus\u003escript');\n        if ($script){\n          $script.parentElement.removeChild($script);\n        }\n        this._giscusOnSwitchTheme()\n        window.removeEventListener('message', this._messageListener, false);\n      };\n      window.addEventListener('message', this._messageListener, false);\n      return;\n    }\n  }\n\n  initCookieconsent() {\n    this.config.cookieconsent \u0026\u0026 window.cookieconsent?.initialise(this.config.cookieconsent);\n  }\n\n  getSiteTime = () =\u003e {\n    let now = new Date();\n    let run = new Date(this.config.siteTime);\n    let $runTimes = document.querySelector('.run-times');\n    if (!this.util.isValidDate(run) || !$runTimes) {\n      clearInterval(this.siteTime);\n      $runTimes \u0026\u0026 $runTimes.parentNode.remove();\n      return;\n    }\n    let runTime = (now - run) / 1000,\n      days = Math.floor(runTime / 60 / 60 / 24),\n      hours = Math.floor(runTime / 60 / 60 - 24 * days),\n      minutes = Math.floor(runTime / 60 - 24 * 60 * days - 60 * hours),\n      seconds = Math.floor((now - run) / 1000 - 24 * 60 * 60 * days - 60 * 60 * hours - 60 * minutes);\n    $runTimes.innerHTML = `${days}, ${String(hours).padStart(2, 0)}:${String(minutes).padStart(2, 0)}:${String(seconds).padStart(2, 0)}`;\n    document.querySelector('.site-time .d-none')?.classList.remove('d-none');\n  };\n\n  initSiteTime() {\n    if (this.config.siteTime) {\n      this.siteTime = setInterval(this.getSiteTime, 500);\n      document.addEventListener('visibilitychange', () =\u003e {\n        if (document.hidden) {\n          return clearInterval(this.siteTime);\n        }\n        this.siteTime = setInterval(this.getSiteTime, 500);\n      }, false);\n    }\n  }\n\n  initServiceWorker() {\n    if (this.config.enablePWA \u0026\u0026 'serviceWorker' in navigator) {\n      navigator.serviceWorker\n        .register('/service-worker.min.js', { scope: '/' })\n        .then(function (registration) {\n          // console.log('Service Worker Registered');\n        })\n        .catch(function (error) {\n          console.error('error: ', error);\n        });\n      navigator.serviceWorker\n        .ready\n        .then(function (registration) {\n        // console.log('Service Worker Ready');\n      });\n    }\n  }\n\n  initWatermark() {\n    this.config.watermark?.enable \u0026\u0026\n      new Watermark({\n        content: this.config.watermark.content || `${document.querySelector('footer .fixit-icon')?.outerHTML ?? ''} FixIt Theme`,\n        appendTo: '.widgets',\n        opacity: this.config.watermark.opacity,\n        width: this.config.watermark.width,\n        height: this.config.watermark.height,\n        rowSpacing: this.config.watermark.rowspacing,\n        colSpacing: this.config.watermark.colspacing,\n        rotate: this.config.watermark.rotate,\n        fontSize: this.config.watermark.fontsize,\n        fontFamily: this.config.watermark.fontfamily\n      });\n  }\n\n  initPangu() {\n    if (!this.config.pangu?.enable) {\n      return;\n    }\n    const selector = this.config.pangu.selector;\n    if (selector) {\n      // to avoid extra spaces for extended Markdown syntax fraction in Chinese\n      pangu.ignoredTags = /^(script|code|pre|textarea|sup|sub)$/i;\n      if (selector.startsWith('#')) {\n        pangu.spacingElementById(selector.slice(1));\n      } else if (selector.startsWith('.')) {\n        pangu.spacingElementByClassName(selector.slice(1));\n      } else {\n        pangu.spacingElementByTagName(selector)\n      }\n      return;\n    }\n    pangu.autoSpacingPage();\n  }\n\n  initFixItDecryptor() {\n    this.decryptor = new FixItDecryptor({\n      decrypted: () =\u003e {\n        this.initTwemoji();\n        this.initDetails();\n        this.initLightGallery();\n        this.initCodeWrapper();\n        this.initTable();\n        this.initMath();\n        this.initMermaid();\n        this.initEcharts();\n        this.initTypeit();\n        this.initMapbox();\n        this.fixTocScroll();\n        this.initToc();\n        this.initTocListener();\n        this.initPangu();\n        this.util.forEach(document.querySelectorAll('.encrypted-hidden'), ($element) =\u003e {\n          $element.classList.replace('encrypted-hidden', 'decrypted-shown');\n        });\n      },\n      partialDecrypted: ($content) =\u003e {\n        this.initTwemoji($content);\n        this.initDetails($content);\n        this.initLightGallery();\n        this.initCodeWrapper();\n        this.initTable($content);\n        this.initMath($content);\n        this.initMermaid();\n        this.initEcharts();\n        this.initTypeit($content);\n        this.initMapbox();\n        this.initPangu();\n        this.util.forEach($content.querySelectorAll('.encrypted-hidden'), ($element) =\u003e {\n          $element.classList.replace('encrypted-hidden', 'decrypted-shown');\n        });\n      },\n      reset: () =\u003e {\n        this.util.forEach(document.querySelectorAll('.decrypted-shown'), ($element) =\u003e {\n          $element.classList.replace('decrypted-shown', 'encrypted-hidden');\n        });\n      }\n    });\n    this.decryptor.init(this.config.encryption);\n  }\n\n  initAutoMark() {\n    if (!this.config.autoBookmark) {\n      return;\n    }\n    window.addEventListener('beforeunload', () =\u003e {\n      window.sessionStorage?.setItem(`fixit-bookmark/#${location.pathname}`, this.util.getScrollTop());\n    });\n    const scrollTop = Number(window.sessionStorage?.getItem(`fixit-bookmark/#${location.pathname}`));\n    // If the page opens with a specific hash, just jump out\n    if (scrollTop \u0026\u0026 location.hash === '') {\n      window.scrollTo({ \n        top: scrollTop,\n        behavior: 'smooth'\n      });\n    }\n  }\n\n  initReward() {\n    const $rewards = document.querySelectorAll('.post-reward [data-mode=\"fixed\"]');\n    if (!$rewards.length) {\n      return;\n    }\n    // `fixed` mode only supports desktop\n    if (this.util.isMobile()) {\n      this.util.forEach($rewards, ($reward) =\u003e {\n        $reward.removeAttribute('data-mode');\n      });\n      return;\n    }\n    // Close post reward images exclude special id\n    const _closeRewardExclude = (id) =\u003e {\n      this.util.forEach($rewards, ($reward) =\u003e {\n        const $rewardInput = $reward.parentElement.querySelector('.reward-input');\n        if ($rewardInput.id !== id) {\n          $rewardInput.checked = false;\n        }\n      });\n    };\n    // Add additional click event to reward buttons\n    this.util.forEach($rewards, ($reward) =\u003e {\n      $reward.previousElementSibling.addEventListener('click', function () {\n        _closeRewardExclude(this.getAttribute('for'));\n      }, false)\n    });\n    this.scrollEventSet.add(_closeRewardExclude);\n  }\n\n  initPostChatUser() {\n    if (!window.postChatUser || !postChatConfig || postChatConfig.userMode === 'magic') {\n      return;\n    }\n    postChat_theme = this.isDark ? 'dark' : 'light';\n    this.switchThemeEventSet.add((isDark) =\u003e {\n      const targetFrame = document.getElementById(\"postChat_iframeContainer\")\n      if (targetFrame) {\n        window.postChatUser.setPostChatTheme(isDark ? 'dark' : 'light');\n      } else {\n        postChat_theme  = isDark ? 'dark' : 'light';\n      }\n    });\n  }\n\n  onScroll() {\n    const $headers = [];\n    const ACCURACY = 20;\n    const $fixedButtons = document.querySelector('.fixed-buttons');\n    const $backToTop = document.querySelector('.back-to-top');\n    const $readingProgressBar = document.querySelector('.reading-progress-bar');\n    if (document.body.dataset.headerDesktop === 'auto') {\n      $headers.push(document.getElementById('header-desktop'));\n    }\n    if (document.body.dataset.headerMobile === 'auto') {\n      $headers.push(document.getElementById('header-mobile'));\n    }\n    // b2t button click event\n    $backToTop?.addEventListener('click', () =\u003e {\n      this.util.scrollIntoView('body');\n    });\n    window.addEventListener('scroll', (event) =\u003e {\n      if (this.disableScrollEvent) {\n        event.preventDefault();\n        return;\n      }\n      const $mask = document.getElementById('mask');\n      this.newScrollTop = this.util.getScrollTop();\n      const scroll = this.newScrollTop - this.oldScrollTop;\n      // header animation\n      this.util.forEach($headers, ($header) =\u003e {\n        if (scroll \u003e ACCURACY) {\n          $header.classList.remove('animate__fadeInDown');\n          this.util.animateCSS($header, ['animate__fadeOutUp'], true);\n          $mask.click();\n        } else if (scroll \u003c -ACCURACY) {\n          $header.classList.remove('animate__fadeOutUp');\n          this.util.animateCSS($header, ['animate__fadeInDown'], true);\n          $mask.click();\n        }\n      });\n      const contentHeight = document.body.scrollHeight - window.innerHeight;\n      const scrollPercent = Math.max(Math.min(100 * Math.max(this.newScrollTop, 0) / contentHeight, 100), 0);\n      if ($readingProgressBar) {\n        $readingProgressBar.style.setProperty('--progress', `${scrollPercent.toFixed(2)}%`);\n      }\n      // whether to show fixed buttons\n      if ($fixedButtons) {\n        if (scrollPercent \u003e 1) {\n          $fixedButtons.classList.remove('d-none', 'animate__fadeOut');\n          this.util.animateCSS($fixedButtons, ['animate__fadeIn'], true);\n        } else {\n          $fixedButtons.classList.remove('animate__fadeIn');\n          this.util.animateCSS($fixedButtons, ['animate__fadeOut'], true, () =\u003e {\n            $fixedButtons.classList.contains('animate__fadeOut') \u0026\u0026 $fixedButtons.classList.add('d-none');\n          });\n        }\n        if ($backToTop) {\n          $backToTop.querySelector('span').innerText = `${Math.round(scrollPercent)}%`;\n        }\n      }\n      for (let event of this.scrollEventSet) {\n        event();\n      }\n      this.oldScrollTop = this.newScrollTop;\n    }, false);\n  }\n\n  onResize() {\n    let resizeBefore = this.util.isMobile();\n    window.addEventListener('resize', () =\u003e {\n      if (!this._resizeTimeout) {\n        this._resizeTimeout = window.setTimeout(() =\u003e {\n          this._resizeTimeout = null;\n          for (let event of this.resizeEventSet) {\n            event();\n          }\n          this.initToc();\n          this.initSearch();\n\n          const isMobile = this.util.isMobile()\n          if (isMobile !== resizeBefore) {\n            document.getElementById('mask').click();\n            resizeBefore = isMobile;\n          }\n        }, 100);\n      }\n    }, false);\n  }\n\n  onClickMask() {\n    document.getElementById('mask').addEventListener('click', () =\u003e {\n      if (!document.body.classList.contains('blur')) {\n        return;\n      }\n      for (let event of this.clickMaskEventSet) {\n        event();\n      }\n      this.disableScrollEvent = false;\n      document.body.classList.remove('blur');\n    }, false);\n  }\n\n  beforeprint() {\n    window.addEventListener('beforeprint', () =\u003e {\n      this.util.forEach(document.querySelectorAll('.chroma'), ($el) =\u003e {\n        $el.classList.toggle('open', true)\n      });\n      for (let event of this.beforeprintEventSet) {\n        event();\n      }\n    }, false);\n  }\n\n  init() {\n    try {\n      if (this.config.encryption) {\n        this.initFixItDecryptor();\n      }\n      if (!this.config.encryption?.all) {\n        this.initTwemoji();\n        this.initDetails();\n        this.initLightGallery();\n        this.initCodeWrapper();\n        this.initTable();\n        this.initMath();\n        this.initMermaid();\n        this.initEcharts();\n        this.initTypeit();\n        this.initMapbox();\n        this.initPangu();\n      }\n      this.initThemeColor();\n      this.initSVGIcon();\n      this.initMenu();\n      this.initSwitchTheme();\n      this.initSearch();\n      this.initBreadcrumb();\n      this.initCookieconsent();\n      this.initSiteTime();\n      this.initServiceWorker();\n      this.initWatermark();\n      this.initAutoMark();\n      this.initReward();\n      this.initPostChatUser();\n\n      window.setTimeout(() =\u003e {\n        this.initComment();\n        if (!this.config.encryption?.all) {\n          this.fixTocScroll();\n          this.initToc();\n          this.initTocListener();\n        }\n        this.onScroll();\n        this.onResize();\n        this.onClickMask();\n        this.beforeprint();\n      }, 100);\n    } catch (err) {\n      console.error(err);\n    }\n  }\n}\n\nconst themeInit = () =\u003e {\n  window.fixit = new FixIt();\n  window.fixit.init();\n};\n\nif (document.readyState !== 'loading') {\n  themeInit();\n} else {\n  document.addEventListener('DOMContentLoaded', themeInit, false);\n}\n"],"mappings":"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","names":["text","location","stagingDOM","event"]}